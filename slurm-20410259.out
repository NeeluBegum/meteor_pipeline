...Thu Jun 10 13:36:27 CEST 2021: - begin running script
#!/bin/bash -l
#SBATCH --account=snic2021-5-248
#SBATCH --partition=core
#SBATCH --ntasks=10
#SBATCH --time=2-04:00:00
#SBATCH --job-name=Meteor
#SBATCH --mail-user=zn.tportlock@gmail.com
#SBATCH --mail-type=ALL
##SBATCH --output=/proj/uppstore2019028/projects/metagenome/theo/newscripts/meteor/logs/%j 

function Run {
	start=$(date +%m)
	echo "...$(date): $1 - begin"; echo ""
	$@ \
	&& (echo "...$(date): $1 - done"; echo "") \
	|| (echo "...$(date): $1 - failed"; echo "")
	end=$(date +%s)
	echo "...time taken: $((end-start))"; echo ""
}
function Parse_variables {
	v_project_dir="$TMPDIR"
	v_workdir="${v_project_dir}/working"
	v_refdir="${v_project_dir}/reference"
	v_fastqgz1="$(readlink -f ${fastqgzs[0]})"
	v_fastqgz2="$(readlink -f ${fastqgzs[1]})"
	v_fastqgz1_unzip="${v_workdir}/$(basename $v_fastqgz1 .gz).unzipped"
	v_fastqgz2_unzip="${v_workdir}/$(basename $v_fastqgz2 .gz).unzipped"
	v_trimmedS="${v_workdir}/${sampleId}.trimmed.s.fastq"
	v_final1="${v_workdir}/${sampleId}_1.fastq"
	v_final2="${v_workdir}/${sampleId}_2.fastq"
	v_sampledir="${v_project_dir}/${catalog_type}/sample/${sampleId}"
	v_downstream_dir="$v_project_dir/Downstream"
	vars="$(compgen -A variable | grep "^v_.*")"
	for var in ${vars}; do echo "${var}=${!var}"; done
	for var in ${vars}; do if [[ -z "${!var}" ]]; then echo "missing argument ${var}" ; return 1 ; fi ; done
}
function Init {
	mkdir -p ${v_project_dir}/${catalog_type}/{sample,mapping,profiles}
	mkdir -p ${v_workdir}
	mkdir -p ${v_refdir}
}
function Send {
	cp $v_fastqgz1 $v_workdir
	cp $v_fastqgz2 $v_workdir
	cp -r ${reference_dir}/* $v_refdir
	cp -r $trimFasta $v_project_dir
}
function Decompress {
	zcat ${v_workdir}/$(basename $v_fastqgz1) > $v_fastqgz1_unzip & pid1=$!
	zcat ${v_workdir}/$(basename $v_fastqgz2) > $v_fastqgz2_unzip & pid2=$!
	trap "kill -2 $pid1 $pid2" SIGINT
	wait
}
function Trim {
	[[ -f $v_fastqgz1_unzip && -f $v_fastqgz2_unzip ]] \
	|| (echo "zip file not found" ; return 1 )
	java -jar ${ALIEN_TRIMMER}/AlienTrimmer.jar \
		-k 10 -l 45 -m 5 -p 40 -q 20 \
		-if ${v_fastqgz1_unzip} -ir ${v_fastqgz2_unzip} -c $TMPDIR/$(basename $trimFasta) \
		-of ${v_final1} -or ${v_final2} -os ${v_trimmedS} \
	|| return 1
}
function Import {
	[[ -f $v_final1 && -f $v_final2 ]] \
	|| (echo "trimmed files not found" ; return 1 )
	mv ${v_final1} ${v_final2} ${v_project_dir}/${catalog_type}/sample &&
	rm -r ${v_workdir}
	ruby ${meteorImportScript} \
		-i ${v_project_dir}/${catalog_type}/sample \
		-p ${catalog_type} \
		-t ${seq_platform} \
		-m "${sampleId}*" \
	|| return 1
}
function Map_reads {
	ruby ${meteor}/meteor.rb \
		-w ${ini_file} \
		-i ${v_sampledir} \
		-p ${v_project_dir}/${catalog_type} \
		-o mapping \
	|| return 1
}
function Quantify {
	${meteor}/meteor-profiler \
		-p ${v_project_dir}/${catalog_type} \
		-f ${v_project_dir}/${catalog_type}/profiles \
		-t smart_shared_reads \
		-w ${ini_file} \
		-o ${sampleId} ${v_project_dir}/${catalog_type}/mapping/${sampleId}/${sampleId}_${v_prefix}_gene_profile/census.dat \
	&& rm -r ${v_project_dir}/${catalog_type}/mapping/${sampleId} \
	|| return 1
}
function Recover {
	rsync -aurvP --remove-source-files $v_project_dir/ $project_dir_rel
}

Main() {
	sampleId=$(basename $1 .fastq.gz)
	fastqgzs+=("$2")
	fastqgzs+=("$3")

	Run Parse_variables &&
	Run Init &&
	Run Send &&
	Run Decompress &&
	Run Trim &&
	Run Import &&
	Run Map_reads &&
	Run Quantify &&
	Run Recover
}

echo "...$(date): - begin running script"
cat $0
echo ""

# Load modules
echo "...$(date): - load modules"
module load bioinfo-tools
module load ruby/2.6.2
module load AlienTrimmer/0.4.0
module load bowtie2/2.3.4.1
echo "...$(date): - done"; echo "" 

# Load ini file
echo "...$(date): - load ini file"
sed -i "s|meteor.reference.dir=.*|meteor.reference.dir=$TMPDIR/reference|g" $1
ini_file=$1
source $ini_file > /dev/null 2>&1
v_prefix=$( grep "meteor.counting.prefix.name" $ini_file | sed "s/^.*=//g" )
cat $ini_file
echo "...$(date): - done"; echo "" 

# Run meteor
Main $sample $seq_data_dir/${sample}${forward_identifier} $seq_data_dir/${sample}${reverse_identifier}

...Thu Jun 10 13:36:28 CEST 2021: - load modules
Bowtie2 looks for the specified index first in the current directory, then in the directory specified in the BOWTIE2_INDEXES environment variable.
The pregenerated indexes for the reference genonomes are placed under /sw/data/reference/*/*/program_files/bowtie2 for each reference genome
...Thu Jun 10 13:36:33 CEST 2021: - done

...Thu Jun 10 13:36:33 CEST 2021: - load ini file
[Pipeline]
sample=P18161_205/02-FASTQ/201104_A00187_0373_BHGM2CDSXY/P18161_205_S79_L004
forward_identifier="_R1_001.fastq.gz"
reverse_identifier="_R2_001.fastq.gz"
seq_data_dir="/proj/snic2020-6-153/delivery04021/P18161"
project_dir_rel="/proj/uppstore2019028/projects/metagenome/theo/newscripts/tmp"
catalog_type="oral_catalog"
seq_platform="illumina"
trimFasta="/proj/uppstore2019028/projects/metagenome/alienTrimmerPF8contaminants.fasta"
meteorImportScript="/proj/uppstore2019028/meteor.2019.11.04/MeteorImportFastq.rb"
meteor="/proj/uppstore2019028/projects/metagenome/software/meteor_linux_2019.11.04"
Rdir="/proj/uppstore2019028/projects/metagenome/meteor_downstream_rscripts"
reference_dir="/proj/uppstore2019028/projects/metagenome/meteor_ref"
[worksession]
meteor.reference.dir=/scratch/20410259/reference
meteor.db.type=binary
meteor.nb.attempts=3
meteor.read.cleaning.program=none
meteor.read.cleaning.cmd=
meteor.mapping.program=bowtie2
meteor.mapping.file.format=sam
meteor.is.cpu.percentage=0
meteor.cpu.count=10
meteor.checksum=md5
meteor.excluded.reference.count=3
[main_reference]
meteor.reference.name=oral_catalog
meteor.matches=10000
meteor.mismatches=5
meteor.is.perc.mismatches=1
meteor.bestalignment=1
meteor.mapper.cmd=
meteor.mapping.prefix.name=mapping_vs_oral_catalog
meteor.counting.prefix.name=vs_hs_10_4_oral_catalog
[excluded_reference_1]
meteor.reference.name=Homo_sapiens_GRCh38
meteor.matches=1
meteor.mismatches=5
meteor.is.perc.mismatches=1
meteor.bestalignment=1
meteor.mapping.prefix.name=mapping_vs_Homo_sapiens_GRCh38
[excluded_reference_2]
meteor.reference.name=A_thaliana_TAIR10
meteor.matches=1
meteor.mismatches=5
meteor.is.perc.mismatches=1
meteor.bestalignment=1
meteor.mapping.prefix.name=mapping_vs_A_thaliana_TAIR10
[excluded_reference_3]
meteor.reference.name=Bos_taurus_UMD3
meteor.matches=1
meteor.mismatches=5
meteor.is.perc.mismatches=1
meteor.bestalignment=1
meteor.mapping.prefix.name=mapping_vs_Bos_taurus_UMD3
...Thu Jun 10 13:36:33 CEST 2021: - done

...Thu Jun 10 13:36:33 CEST 2021: Parse_variables - begin

v_downstream_dir=/scratch/20410259/Downstream
v_fastqgz1=/crex/proj/snic2020-6-153/nobackup/delivery04021/P18161/P18161_205/02-FASTQ/201104_A00187_0373_BHGM2CDSXY/P18161_205_S79_L004_R1_001.fastq.gz
v_fastqgz1_unzip=/scratch/20410259/working/P18161_205_S79_L004_R1_001.fastq.unzipped
v_fastqgz2=/crex/proj/snic2020-6-153/nobackup/delivery04021/P18161/P18161_205/02-FASTQ/201104_A00187_0373_BHGM2CDSXY/P18161_205_S79_L004_R2_001.fastq.gz
v_fastqgz2_unzip=/scratch/20410259/working/P18161_205_S79_L004_R2_001.fastq.unzipped
v_final1=/scratch/20410259/working/P18161_205_S79_L004_1.fastq
v_final2=/scratch/20410259/working/P18161_205_S79_L004_2.fastq
v_prefix=vs_hs_10_4_oral_catalog
v_project_dir=/scratch/20410259
v_refdir=/scratch/20410259/reference
v_sampledir=/scratch/20410259/oral_catalog/sample/P18161_205_S79_L004
v_trimmedS=/scratch/20410259/working/P18161_205_S79_L004.trimmed.s.fastq
v_workdir=/scratch/20410259/working
...Thu Jun 10 13:36:33 CEST 2021: Parse_variables - done

...time taken: 1623324987

...Thu Jun 10 13:36:33 CEST 2021: Init - begin

...Thu Jun 10 13:36:33 CEST 2021: Init - done

...time taken: 1623324987

...Thu Jun 10 13:36:33 CEST 2021: Send - begin

...Thu Jun 10 13:43:27 CEST 2021: Send - done

...time taken: 1623325401

...Thu Jun 10 13:43:27 CEST 2021: Decompress - begin

...Thu Jun 10 13:49:29 CEST 2021: Decompress - done

...time taken: 1623325763

...Thu Jun 10 13:49:29 CEST 2021: Trim - begin

AlienTrimmer main options: -k 10 -l 45 -m 5 -q 20 -p 40 (Phred+33)  /  439 fwd alien sequence(s)  /  7856 fwd k-mers (k=10)  /  439 rev alien sequence(s)  /  7856 rev k-mers (k=10)
[02:20]   1,000,000 read pairs processed:     641,756 trimmed (fwd:     300,204  rev:     341,552)      13,957 removed (fwd:       4,730  rev:       9,227)
[04:40]   2,000,000 read pairs processed:   1,292,863 trimmed (fwd:     596,263  rev:     696,600)      28,281 removed (fwd:       9,043  rev:      19,238)
[07:02]   3,000,000 read pairs processed:   1,938,382 trimmed (fwd:     891,942  rev:   1,046,440)      42,616 removed (fwd:      13,214  rev:      29,402)
[09:21]   4,000,000 read pairs processed:   2,575,834 trimmed (fwd:   1,186,024  rev:   1,389,810)      56,046 removed (fwd:      17,556  rev:      38,490)
[11:44]   5,000,000 read pairs processed:   3,221,331 trimmed (fwd:   1,476,371  rev:   1,744,960)      70,430 removed (fwd:      21,667  rev:      48,763)
[14:04]   6,000,000 read pairs processed:   3,859,463 trimmed (fwd:   1,772,238  rev:   2,087,225)      84,025 removed (fwd:      25,989  rev:      58,036)
[16:25]   7,000,000 read pairs processed:   4,498,598 trimmed (fwd:   2,062,316  rev:   2,436,282)      97,551 removed (fwd:      30,138  rev:      67,413)
[18:46]   8,000,000 read pairs processed:   5,139,579 trimmed (fwd:   2,353,078  rev:   2,786,501)     111,416 removed (fwd:      34,135  rev:      77,281)
[21:06]   9,000,000 read pairs processed:   5,766,385 trimmed (fwd:   2,640,801  rev:   3,125,584)     124,574 removed (fwd:      38,422  rev:      86,152)
[23:27]  10,000,000 read pairs processed:   6,401,819 trimmed (fwd:   2,928,211  rev:   3,473,608)     138,078 removed (fwd:      42,451  rev:      95,627)
[25:46]  11,000,000 read pairs processed:   7,039,235 trimmed (fwd:   3,219,564  rev:   3,819,671)     151,244 removed (fwd:      46,557  rev:     104,687)
[28:05]  12,000,000 read pairs processed:   7,675,448 trimmed (fwd:   3,507,541  rev:   4,167,907)     164,190 removed (fwd:      50,559  rev:     113,631)
[30:25]  13,000,000 read pairs processed:   8,316,975 trimmed (fwd:   3,799,166  rev:   4,517,809)     177,484 removed (fwd:      54,664  rev:     122,820)
[32:43]  14,000,000 read pairs processed:   8,944,429 trimmed (fwd:   4,092,113  rev:   4,852,316)     190,949 removed (fwd:      59,186  rev:     131,763)
[35:01]  15,000,000 read pairs processed:   9,566,707 trimmed (fwd:   4,378,401  rev:   5,188,306)     203,980 removed (fwd:      63,339  rev:     140,641)
[37:20]  16,000,000 read pairs processed:  10,314,585 trimmed (fwd:   4,720,487  rev:   5,594,098)     218,994 removed (fwd:      67,791  rev:     151,203)
[39:41]  17,000,000 read pairs processed:  11,034,862 trimmed (fwd:   5,051,802  rev:   5,983,060)     233,817 removed (fwd:      72,543  rev:     161,274)
[42:01]  18,000,000 read pairs processed:  11,754,677 trimmed (fwd:   5,380,700  rev:   6,373,977)     247,492 removed (fwd:      76,859  rev:     170,633)
[44:19]  19,000,000 read pairs processed:  12,475,201 trimmed (fwd:   5,707,108  rev:   6,768,093)     261,127 removed (fwd:      81,422  rev:     179,705)
[46:36]  20,000,000 read pairs processed:  13,160,855 trimmed (fwd:   6,016,657  rev:   7,144,198)     274,551 removed (fwd:      85,788  rev:     188,763)
[48:54]  21,000,000 read pairs processed:  13,866,337 trimmed (fwd:   6,342,713  rev:   7,523,624)     287,744 removed (fwd:      90,427  rev:     197,317)
[51:10]  22,000,000 read pairs processed:  14,540,495 trimmed (fwd:   6,649,847  rev:   7,890,648)     300,836 removed (fwd:      94,883  rev:     205,953)
[53:28]  23,000,000 read pairs processed:  15,220,081 trimmed (fwd:   6,960,331  rev:   8,259,750)     313,500 removed (fwd:      99,332  rev:     214,168)
[55:45]  24,000,000 read pairs processed:  15,893,139 trimmed (fwd:   7,265,491  rev:   8,627,648)     326,153 removed (fwd:     103,730  rev:     222,423)
[58:03]  25,000,000 read pairs processed:  16,569,352 trimmed (fwd:   7,573,581  rev:   8,995,771)     338,845 removed (fwd:     107,996  rev:     230,849)
[60:20]  26,000,000 read pairs processed:  17,252,411 trimmed (fwd:   7,887,603  rev:   9,364,808)     351,685 removed (fwd:     112,504  rev:     239,181)
[62:39]  27,000,000 read pairs processed:  17,929,483 trimmed (fwd:   8,195,685  rev:   9,733,798)     364,618 removed (fwd:     116,718  rev:     247,900)
[65:49]  28,000,000 read pairs processed:  18,653,544 trimmed (fwd:   8,528,608  rev:  10,124,936)     378,756 removed (fwd:     121,714  rev:     257,042)
[68:08]  29,000,000 read pairs processed:  19,332,282 trimmed (fwd:   8,838,132  rev:  10,494,150)     391,837 removed (fwd:     126,377  rev:     265,460)
[68:43]  29,249,881 read pairs processed:  19,499,204 trimmed (fwd:   8,913,283  rev:  10,585,921)     394,937 removed (fwd:     127,387  rev:     267,550)
...Thu Jun 10 14:58:13 CEST 2021: Trim - done

...time taken: 1623329887

...Thu Jun 10 14:58:13 CEST 2021: Import - begin

ruby: warning: shebang line ending with \r may cause problems
Import /scratch/20410259/oral_catalog/sample/P18161_205_S79_L004_2.fastq
Import /scratch/20410259/oral_catalog/sample/P18161_205_S79_L004_1.fastq
Importation done!
...Thu Jun 10 14:58:18 CEST 2021: Import - done

...time taken: 1623329892

...Thu Jun 10 14:58:18 CEST 2021: Map_reads - begin

/proj/uppstore2019028/projects/metagenome/software/meteor_linux_2019.11.04/meteor.rb:146: warning: constant ::Fixnum is deprecated
/proj/uppstore2019028/projects/metagenome/software/meteor_linux_2019.11.04/meteor.rb:161: warning: Insecure world writable dir /proj/uppstore2019028/Helen/meteor-linux.2019-11-04 in PATH, mode 042777

Launch mapping


######### Meteor Mapping task description
Sample name = P18161_205_S79_L004
Library name = P18161_205_S79_L004_1
Project name = oral_catalog
Sequencing device = illumina
Workflow = P18161_205_S79_L004.ini

######### Task main mapping 0
Executing mapping command:
bowtie2-align-l --mm -p 10 --end-to-end --sensitive -k 10000 --no-head --no-sq --no-unal --omit-sec-seq -x /scratch/20410259/reference/oral_catalog/fasta/oral_catalog_dnaspace_index -U /scratch/20410259/oral_catalog/sample/P18161_205_S79_L004/6eb7da91615c54d0bbe5e6a9b22f7a5a/P18161_205_S79_L004_1.fastq.idx -S /scratch/20410259/oral_catalog/mapping/P18161_205_S79_L004/mapping_vs_oral_catalog_P18161_205_S79_L004_1/P18161_205_S79_L004_1_1.sam
28886126 reads; of these:
  28886126 (100.00%) were unpaired; of these:
    21621617 (74.85%) aligned 0 times
    1604443 (5.55%) aligned exactly 1 time
    5660066 (19.59%) aligned >1 times
25.15% overall alignment rate

######### TaskExcludedMapping(0, 1) ; reference name: Homo_sapiens_GRCh38
Executing mapping command:
bowtie2-align-l --mm -p 10 --end-to-end --sensitive -k 1 --no-head --no-sq --no-unal --omit-sec-seq -x /scratch/20410259/reference/Homo_sapiens_GRCh38/fasta/Homo_sapiens_GRCh38_dnaspace_index -U /scratch/20410259/oral_catalog/sample/P18161_205_S79_L004/6eb7da91615c54d0bbe5e6a9b22f7a5a/P18161_205_S79_L004_1.fastq.idx -S /scratch/20410259/oral_catalog/mapping/P18161_205_S79_L004/mapping_vs_Homo_sapiens_GRCh38_P18161_205_S79_L004_1/P18161_205_S79_L004_1_1.sam
28886126 reads; of these:
  28886126 (100.00%) were unpaired; of these:
    6381885 (22.09%) aligned 0 times
    22504241 (77.91%) aligned exactly 1 time
    0 (0.00%) aligned >1 times
77.91% overall alignment rate

######### TaskExcludedMapping(0, 2) ; reference name: A_thaliana_TAIR10
Executing mapping command:
bowtie2-align-l --mm -p 10 --end-to-end --sensitive -k 1 --no-head --no-sq --no-unal --omit-sec-seq -x /scratch/20410259/reference/A_thaliana_TAIR10/fasta/A_thaliana_TAIR10_dnaspace_index -U /scratch/20410259/oral_catalog/sample/P18161_205_S79_L004/6eb7da91615c54d0bbe5e6a9b22f7a5a/P18161_205_S79_L004_1.fastq.idx -S /scratch/20410259/oral_catalog/mapping/P18161_205_S79_L004/mapping_vs_A_thaliana_TAIR10_P18161_205_S79_L004_1/P18161_205_S79_L004_1_1.sam
28886126 reads; of these:
  28886126 (100.00%) were unpaired; of these:
    28879184 (99.98%) aligned 0 times
    6942 (0.02%) aligned exactly 1 time
    0 (0.00%) aligned >1 times
0.02% overall alignment rate

######### TaskExcludedMapping(0, 3) ; reference name: Bos_taurus_UMD3
Executing mapping command:
bowtie2-align-l --mm -p 10 --end-to-end --sensitive -k 1 --no-head --no-sq --no-unal --omit-sec-seq -x /scratch/20410259/reference/Bos_taurus_UMD3/fasta/Bos_taurus_UMD3_dnaspace_index -U /scratch/20410259/oral_catalog/sample/P18161_205_S79_L004/6eb7da91615c54d0bbe5e6a9b22f7a5a/P18161_205_S79_L004_1.fastq.idx -S /scratch/20410259/oral_catalog/mapping/P18161_205_S79_L004/mapping_vs_Bos_taurus_UMD3_P18161_205_S79_L004_1/P18161_205_S79_L004_1_1.sam
28886126 reads; of these:
  28886126 (100.00%) were unpaired; of these:
    28503839 (98.68%) aligned 0 times
    382287 (1.32%) aligned exactly 1 time
    0 (0.00%) aligned >1 times
1.32% overall alignment rate
removing re-indexed file:
/scratch/20410259/oral_catalog/sample/P18161_205_S79_L004/6eb7da91615c54d0bbe5e6a9b22f7a5a/P18161_205_S79_L004_1.fastq.idx


######### Meteor Mapping task description
Sample name = P18161_205_S79_L004
Library name = P18161_205_S79_L004_2
Project name = oral_catalog
Sequencing device = illumina
Workflow = P18161_205_S79_L004.ini

######### Task main mapping 1
Executing mapping command:
bowtie2-align-l --mm -p 10 --end-to-end --sensitive -k 10000 --no-head --no-sq --no-unal --omit-sec-seq -x /scratch/20410259/reference/oral_catalog/fasta/oral_catalog_dnaspace_index -U /scratch/20410259/oral_catalog/sample/P18161_205_S79_L004/6eb7da91615c54d0bbe5e6a9b22f7a5a/P18161_205_S79_L004_2.fastq.idx -S /scratch/20410259/oral_catalog/mapping/P18161_205_S79_L004/mapping_vs_oral_catalog_P18161_205_S79_L004_2/P18161_205_S79_L004_2_1.sam
28886126 reads; of these:
  28886126 (100.00%) were unpaired; of these:
    21717290 (75.18%) aligned 0 times
    1601981 (5.55%) aligned exactly 1 time
    5566855 (19.27%) aligned >1 times
24.82% overall alignment rate

######### TaskExcludedMapping(1, 1) ; reference name: Homo_sapiens_GRCh38
Executing mapping command:
bowtie2-align-l --mm -p 10 --end-to-end --sensitive -k 1 --no-head --no-sq --no-unal --omit-sec-seq -x /scratch/20410259/reference/Homo_sapiens_GRCh38/fasta/Homo_sapiens_GRCh38_dnaspace_index -U /scratch/20410259/oral_catalog/sample/P18161_205_S79_L004/6eb7da91615c54d0bbe5e6a9b22f7a5a/P18161_205_S79_L004_2.fastq.idx -S /scratch/20410259/oral_catalog/mapping/P18161_205_S79_L004/mapping_vs_Homo_sapiens_GRCh38_P18161_205_S79_L004_2/P18161_205_S79_L004_2_1.sam
28886126 reads; of these:
  28886126 (100.00%) were unpaired; of these:
    6636690 (22.98%) aligned 0 times
    22249436 (77.02%) aligned exactly 1 time
    0 (0.00%) aligned >1 times
77.02% overall alignment rate

######### TaskExcludedMapping(1, 2) ; reference name: A_thaliana_TAIR10
Executing mapping command:
bowtie2-align-l --mm -p 10 --end-to-end --sensitive -k 1 --no-head --no-sq --no-unal --omit-sec-seq -x /scratch/20410259/reference/A_thaliana_TAIR10/fasta/A_thaliana_TAIR10_dnaspace_index -U /scratch/20410259/oral_catalog/sample/P18161_205_S79_L004/6eb7da91615c54d0bbe5e6a9b22f7a5a/P18161_205_S79_L004_2.fastq.idx -S /scratch/20410259/oral_catalog/mapping/P18161_205_S79_L004/mapping_vs_A_thaliana_TAIR10_P18161_205_S79_L004_2/P18161_205_S79_L004_2_1.sam
28886126 reads; of these:
  28886126 (100.00%) were unpaired; of these:
    28878930 (99.98%) aligned 0 times
    7196 (0.02%) aligned exactly 1 time
    0 (0.00%) aligned >1 times
0.02% overall alignment rate

######### TaskExcludedMapping(1, 3) ; reference name: Bos_taurus_UMD3
Executing mapping command:
bowtie2-align-l --mm -p 10 --end-to-end --sensitive -k 1 --no-head --no-sq --no-unal --omit-sec-seq -x /scratch/20410259/reference/Bos_taurus_UMD3/fasta/Bos_taurus_UMD3_dnaspace_index -U /scratch/20410259/oral_catalog/sample/P18161_205_S79_L004/6eb7da91615c54d0bbe5e6a9b22f7a5a/P18161_205_S79_L004_2.fastq.idx -S /scratch/20410259/oral_catalog/mapping/P18161_205_S79_L004/mapping_vs_Bos_taurus_UMD3_P18161_205_S79_L004_2/P18161_205_S79_L004_2_1.sam
28886126 reads; of these:
  28886126 (100.00%) were unpaired; of these:
    28512731 (98.71%) aligned 0 times
    373395 (1.29%) aligned exactly 1 time
    0 (0.00%) aligned >1 times
1.29% overall alignment rate
removing re-indexed file:
/scratch/20410259/oral_catalog/sample/P18161_205_S79_L004/6eb7da91615c54d0bbe5e6a9b22f7a5a/P18161_205_S79_L004_2.fastq.idx

Launch counting

Executing counting command:
meteor-counter -w inifiles/P18161_205_S79_L004.ini -i /scratch/20410259/oral_catalog/sample/P18161_205_S79_L004 -p /scratch/20410259/oral_catalog -o mapping
######### workspace preparation
######### Meteor task description
Sample name = P18161_205_S79_L004
Library name = P18161_205_S79_L004_2
Project name = oral_catalog
Sequencing device = illumina
Workflow = P18161_205_S79_L004.ini
######### Meteor task description
Sample name = P18161_205_S79_L004
Library name = P18161_205_S79_L004_1
Project name = oral_catalog
Sequencing device = illumina
Workflow = P18161_205_S79_L004.ini
######### Task main counting

Job finished !
Done !
Job finished without errors ...
...Fri Jun 11 10:13:29 CEST 2021: Map_reads - done

...time taken: 1623399203

...Fri Jun 11 10:13:29 CEST 2021: Quantify - begin

SampleCount: 1
RunSampleCount: 2

######### profiling job started

1000000 processed records.
2000000 processed records.
3000000 processed records.
4000000 processed records.
5000000 processed records.
6000000 processed records.
7000000 processed records.
8000000 processed records.
8403558 processed records.

Merged profiled data are saved here: /scratch/20410259/oral_catalog/profiles/P18161_205_S79_L004.tsv

Counting report is saved here: /scratch/20410259/oral_catalog/profiles/P18161_205_S79_L004_counting_report.csv

Extended counting report is saved here: /scratch/20410259/oral_catalog/profiles/P18161_205_S79_L004_extended_counting_report.csv

######### Job finished
...Fri Jun 11 10:14:00 CEST 2021: Quantify - done

...time taken: 1623399234

...Fri Jun 11 10:14:00 CEST 2021: Recover - begin

sending incremental file list
./
oral_catalog/
oral_catalog/mapping/
oral_catalog/profiles/
oral_catalog/profiles/P18161_205_S79_L004.tsv
         32,768   0%    0.00kB/s    0:00:00       86,111,529 100%  207.30MB/s    0:00:00 (xfr#1, to-chk=68/76)
oral_catalog/profiles/P18161_205_S79_L004_counting_report.csv
            501 100%    1.24kB/s    0:00:00              501 100%    1.24kB/s    0:00:00 (xfr#2, to-chk=67/76)
oral_catalog/profiles/P18161_205_S79_L004_extended_counting_report.csv
            752 100%    1.85kB/s    0:00:00              752 100%    1.85kB/s    0:00:00 (xfr#3, to-chk=66/76)
oral_catalog/profiles/P18161_205_S79_L004_gene_profile.ini
          3,094 100%    7.61kB/s    0:00:00            3,094 100%    7.61kB/s    0:00:00 (xfr#4, to-chk=65/76)
oral_catalog/sample/
oral_catalog/sample/P18161_205_S79_L004/
oral_catalog/sample/P18161_205_S79_L004/P18161_205_S79_L004_1.fastq
         32,768   0%   77.86kB/s   36:53:30       40,402,944   0%   25.95MB/s    0:06:27      177,602,560   1%   68.16MB/s    0:02:25      320,765,952   3%   87.80MB/s    0:01:51      458,850,304   4%   97.61MB/s    0:01:38      595,099,648   5%  132.32MB/s    0:01:11      732,725,248   7%  132.42MB/s    0:01:10      874,577,920   8%  132.11MB/s    0:01:09    1,016,561,664   9%  133.04MB/s    0:01:08    1,160,019,968  11%  134.79MB/s    0:01:06    1,305,051,136  12%  136.56MB/s    0:01:04    1,442,676,736  13%  135.55MB/s    0:01:04    1,582,465,024  15%  135.02MB/s    0:01:03    1,725,333,504  16%  134.88MB/s    0:01:02    1,867,382,784  18%  134.17MB/s    0:01:01    2,013,036,544  19%  136.09MB/s    0:00:59    2,151,284,736  20%  135.72MB/s    0:00:58    2,290,188,288  22%  134.77MB/s    0:00:58    2,432,204,800  23%  134.73MB/s    0:00:57    2,575,073,280  24%  134.10MB/s    0:00:56    2,719,514,624  26%  135.58MB/s    0:00:54    2,794,749,952  27%  120.36MB/s    0:01:01    2,924,511,232  28%  117.46MB/s    0:01:01    3,065,544,704  29%  117.03MB/s    0:01:00    3,206,053,888  31%  116.09MB/s    0:01:00    3,350,200,320  32%  132.53MB/s    0:00:51    3,489,595,392  33%  134.83MB/s    0:00:49    3,628,924,928  35%  134.42MB/s    0:00:48    3,769,663,488  36%  134.44MB/s    0:00:47    3,911,450,624  37%  133.91MB/s    0:00:46    4,054,319,104  39%  134.74MB/s    0:00:45    4,194,074,624  40%  134.81MB/s    0:00:44    4,336,254,976  41%  135.19MB/s    0:00:43    4,474,372,096  43%  134.31MB/s    0:00:42    4,615,340,032  44%  133.82MB/s    0:00:41    4,756,373,504  45%  134.13MB/s    0:00:40    4,865,982,464  47%  126.36MB/s    0:00:42    5,008,097,280  48%  127.31MB/s    0:00:40    5,145,722,880  49%  126.52MB/s    0:00:40    5,286,526,976  51%  126.49MB/s    0:00:39    5,427,757,056  52%  134.04MB/s    0:00:35    5,543,067,648  53%  127.64MB/s    0:00:36    5,685,673,984  54%  128.80MB/s    0:00:35    5,822,414,848  56%  127.83MB/s    0:00:34    5,962,235,904  57%  127.49MB/s    0:00:33    6,103,531,520  59%  133.69MB/s    0:00:30    6,246,662,144  60%  133.82MB/s    0:00:29    6,392,348,672  61%  135.95MB/s    0:00:28    6,535,806,976  63%  136.82MB/s    0:00:27    6,673,924,096  64%  136.06MB/s    0:00:26    6,813,679,616  65%  135.26MB/s    0:00:25    6,958,120,960  67%  134.96MB/s    0:00:24    7,101,579,264  68%  134.96MB/s    0:00:23    7,244,644,352  70%  136.14MB/s    0:00:22    7,381,975,040  71%  135.56MB/s    0:00:21    7,522,058,240  72%  134.52MB/s    0:00:20    7,665,287,168  74%  134.47MB/s    0:00:19    7,809,302,528  75%  134.73MB/s    0:00:18    7,947,714,560  76%  134.95MB/s    0:00:17    8,084,815,872  78%  134.24MB/s    0:00:16    8,224,178,176  79%  133.32MB/s    0:00:15    8,366,850,048  80%  133.03MB/s    0:00:14    8,509,751,296  82%  134.10MB/s    0:00:13    8,643,936,256  83%  133.40MB/s    0:00:12    8,782,184,448  84%  133.14MB/s    0:00:11    8,917,123,072  86%  131.20MB/s    0:00:10    9,053,863,936  87%  129.73MB/s    0:00:09    9,193,160,704  88%  130.95MB/s    0:00:08    9,284,812,800  89%  119.84MB/s    0:00:08    9,426,206,720  91%  121.47MB/s    0:00:07    9,562,587,136  92%  121.38MB/s    0:00:06    9,693,921,280  93%  119.48MB/s    0:00:05    9,830,760,448  95%  130.26MB/s    0:00:03    9,970,941,952  96%  129.94MB/s    0:00:02   10,113,548,288  97%  131.43MB/s    0:00:01   10,251,960,320  99%  133.11MB/s    0:00:00   10,340,543,277 100%  129.50MB/s    0:01:16 (xfr#5, to-chk=63/76)
oral_catalog/sample/P18161_205_S79_L004/P18161_205_S79_L004_1_census_stage_0.ini
            273 100%    0.37kB/s    0:00:00              273 100%    0.37kB/s    0:00:00 (xfr#6, to-chk=62/76)
oral_catalog/sample/P18161_205_S79_L004/P18161_205_S79_L004_2.fastq
         32,768   0%   43.66kB/s   65:25:46       38,043,648   0%   36.28MB/s    0:04:35      179,077,120   1%   85.43MB/s    0:01:55      323,158,016   3%  102.80MB/s    0:01:34      469,794,816   4%  112.01MB/s    0:01:25      612,401,152   5%  136.94MB/s    0:01:08      717,258,752   6%  128.28MB/s    0:01:12      857,767,936   8%  127.40MB/s    0:01:12    1,000,636,416   9%  126.56MB/s    0:01:11    1,143,635,968  11%  126.66MB/s    0:01:10    1,286,995,968  12%  135.90MB/s    0:01:04    1,424,621,568  13%  135.25MB/s    0:01:03    1,565,556,736  15%  134.75MB/s    0:01:03    1,707,442,176  16%  134.49MB/s    0:01:02    1,852,407,808  18%  134.87MB/s    0:01:01    1,996,062,720  19%  136.28MB/s    0:00:59    2,133,688,320  20%  135.55MB/s    0:00:58    2,273,148,928  22%  134.98MB/s    0:00:57    2,414,182,400  23%  134.04MB/s    0:00:57    2,557,247,488  24%  133.90MB/s    0:00:56    2,700,902,400  26%  135.30MB/s    0:00:54    2,838,200,320  27%  134.79MB/s    0:00:53    2,976,677,888  28%  134.18MB/s    0:00:53    3,118,497,792  30%  133.88MB/s    0:00:52    3,258,744,832  31%  133.07MB/s    0:00:51    3,403,677,696  33%  134.92MB/s    0:00:49    3,623,059,456  35%  154.23MB/s    0:00:42    3,858,333,696  37%  176.52MB/s    0:00:35    4,087,742,464  39%  197.80MB/s    0:00:30    4,297,424,896  41%  213.25MB/s    0:00:27    4,509,696,000  43%  211.55MB/s    0:00:26    4,728,389,632  45%  207.59MB/s    0:00:26    4,938,694,656  48%  203.04MB/s    0:00:25    5,167,841,280  50%  207.68MB/s    0:00:24    5,395,972,096  52%  211.46MB/s    0:00:22    5,607,555,072  54%  209.77MB/s    0:00:21    5,822,382,080  56%  210.85MB/s    0:00:20    6,025,150,464  58%  204.55MB/s    0:00:20    6,216,777,728  60%  195.84MB/s    0:00:20    6,424,395,776  62%  194.90MB/s    0:00:19    6,639,747,072  64%  195.02MB/s    0:00:18    6,866,436,096  66%  200.73MB/s    0:00:16    7,067,533,312  68%  202.99MB/s    0:00:15    7,211,155,456  70%  187.72MB/s    0:00:15    7,348,649,984  71%  169.14MB/s    0:00:16    7,488,569,344  72%  148.44MB/s    0:00:18    7,630,520,320  74%  134.33MB/s    0:00:19    7,774,961,664  75%  134.52MB/s    0:00:18    7,919,665,152  77%  136.14MB/s    0:00:16    8,057,290,752  78%  135.59MB/s    0:00:16    8,197,275,648  79%  135.06MB/s    0:00:15    8,330,706,944  81%  132.37MB/s    0:00:14    8,476,033,024  82%  132.62MB/s    0:00:13    8,631,713,792  83%  136.88MB/s    0:00:11    8,773,894,144  85%  137.51MB/s    0:00:10    8,922,955,776  86%  141.31MB/s    0:00:09    9,140,207,616  88%  158.47MB/s    0:00:07    9,282,355,200  90%  155.24MB/s    0:00:06    9,423,126,528  91%  154.91MB/s    0:00:05    9,558,065,152  92%  151.50MB/s    0:00:04    9,696,477,184  94%  132.69MB/s    0:00:04    9,834,889,216  95%  131.77MB/s    0:00:03    9,976,971,264  97%  132.08MB/s    0:00:02   10,121,936,896  98%  134.44MB/s    0:00:01   10,258,251,776  99%  133.94MB/s    0:00:00   10,283,112,847 100%  152.88MB/s    0:01:04 (xfr#7, to-chk=61/76)
oral_catalog/sample/P18161_205_S79_L004/P18161_205_S79_L004_2_census_stage_0.ini
            273 100%    1.46kB/s    0:00:00              273 100%    1.46kB/s    0:00:00 (xfr#8, to-chk=60/76)
reference/
reference/A_thaliana_TAIR10/
reference/A_thaliana_TAIR10/database/
reference/A_thaliana_TAIR10/fasta/
reference/Bos_taurus_UMD3/
reference/Bos_taurus_UMD3/database/
reference/Bos_taurus_UMD3/fasta/
reference/Homo_sapiens_GRCh38/
reference/Homo_sapiens_GRCh38/database/
reference/Homo_sapiens_GRCh38/fasta/
reference/hs_10_4_igc2/
reference/hs_10_4_igc2/database/
reference/hs_10_4_igc2/fasta/
reference/oral_catalog/
reference/oral_catalog/database/
reference/oral_catalog/fasta/

sent 20,714,831,807 bytes  received 327 bytes  144,354,230.90 bytes/sec
total size is 87,658,049,781  speedup is 4.23
...Fri Jun 11 10:16:23 CEST 2021: Recover - done

...time taken: 1623399377

