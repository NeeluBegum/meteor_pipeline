...Sun Jun 13 15:55:18 CEST 2021: - begin running script
#!/bin/bash -l
#SBATCH --account=snic2021-5-248
#SBATCH --partition=core
#SBATCH --ntasks=10
#SBATCH --time=2-06:00:00
#SBATCH --job-name=FmtLast
##SBATCH --output=%j 
##SBATCH --mail-user=zn.tportlock@gmail.com
##SBATCH --mail-type=ALL

function Run {
	#start=$(date +%M)
	#echo "...$(date): $1 - begin"; echo ""
	$@ \
	&& (echo "...$(date): $1 - done") \
	|| (echo "...$(date): $1 - failed"; return 1)
	#end=$(date +%M)
	#echo "...time taken: $((end-start))"; echo ""
}
function Parse_variables {
	sampleId=$(basename $sample .fastq.gz)
	v_project_dir="$TMPDIR"
	v_prefix=$( grep "meteor.counting.prefix.name" $ini_file | sed "s/^.*=//g" )
	v_workdir="${v_project_dir}/working"
	v_refdir="${v_project_dir}/reference"
	v_fastqgz1="$(readlink -f $seq_data_dir/${sample}${forward_identifier})"
	v_fastqgz2="$(readlink -f $seq_data_dir/${sample}${reverse_identifier})"
	v_fastqgz1_unzip="${v_workdir}/$(basename $v_fastqgz1 .gz).unzipped"
	v_fastqgz2_unzip="${v_workdir}/$(basename $v_fastqgz2 .gz).unzipped"
	v_trimmedS="${v_workdir}/${sampleId}.trimmed.s.fastq"
	v_final1="${v_workdir}/${sampleId}_1.fastq"
	v_final2="${v_workdir}/${sampleId}_2.fastq"
	v_sampledir="${v_project_dir}/${catalog_type}/sample/${sampleId}"
	vars="$(compgen -A variable | grep "^v_.*")"
	for var in ${vars}; do echo "${var}=${!var}"; done
	for var in ${vars}; do if [[ -z "${!var}" ]]; then echo "missing argument ${var}" ; return 1 ; fi ; done
}
function Init {
	mkdir -p ${v_project_dir}/${catalog_type}/{sample,mapping,profiles}
	mkdir -p ${v_workdir}
	mkdir -p ${v_refdir}
}
function Send {
	cp $v_fastqgz1 $v_workdir
	cp $v_fastqgz2 $v_workdir
	cp -r ${reference_dir}/* $v_refdir
	cp -r $trimFasta $v_project_dir
}
function Decompress {
	zcat ${v_workdir}/$(basename $v_fastqgz1) > $v_fastqgz1_unzip & pid1=$!
	zcat ${v_workdir}/$(basename $v_fastqgz2) > $v_fastqgz2_unzip & pid2=$!
	trap "kill -2 $pid1 $pid2" SIGINT
	wait
}
function Trim {
	[[ -f $v_fastqgz1_unzip && -f $v_fastqgz2_unzip ]] \
	|| (echo "zip file not found" ; return 1 )
	java -jar ${ALIEN_TRIMMER}/AlienTrimmer.jar \
		-k 10 -l 45 -m 5 -p 40 -q 20 \
		-if ${v_fastqgz1_unzip} -ir ${v_fastqgz2_unzip} -c $TMPDIR/$(basename $trimFasta) \
		-of ${v_final1} -or ${v_final2} -os ${v_trimmedS} \
	|| return 1
}
function Import {
	[[ -f $v_final1 && -f $v_final2 ]] \
	|| (echo "trimmed files not found" ; return 1 )
	mv ${v_final1} ${v_final2} ${v_project_dir}/${catalog_type}/sample &&
	rm -r ${v_workdir}
	ruby ${meteor_rep}/data_preparation_tools/MeteorImportFastq.rb \
		-i ${v_project_dir}/${catalog_type}/sample \
		-p ${catalog_type} \
		-t ${seq_platform} \
		-m "${sampleId}*" \
	|| return 1
}
function Map_reads {
	ruby ${meteor_rep}/meteor-pipeline/meteor.rb \
		-w ${ini_file} \
		-i ${v_sampledir} \
		-p ${v_project_dir}/${catalog_type} \
		-o mapping \
	|| return 1
}
function Quantify {
	${meteor_rep}/meteor-pipeline/src/build/meteor-profiler \
		-p ${v_project_dir}/${catalog_type} \
		-f ${v_project_dir}/${catalog_type}/profiles \
		-t smart_shared_reads \
		-w ${ini_file} \
		-o ${sampleId} ${v_project_dir}/${catalog_type}/mapping/${sampleId}/${sampleId}_${v_prefix}_gene_profile/census.dat \
	&& rm -r ${v_project_dir}/${catalog_type}/mapping/${sampleId} \
	|| return 1
}
function Recover {
	rm $TMPDIR/$(basename $trimFasta)
	rm -r ${v_workdir}
	rm -r ${v_refdir}
	rm $ini_file
	rsync -aurvP --remove-source-files $v_project_dir/ $project_dir_rel
}

Main() {
	Run Parse_variables &&
	Run Init &&
	Run Send &&
	Run Decompress &&
	Run Trim &&
	Run Import &&
	Run Map_reads &&
	Run Quantify &&
	Run Recover
}

echo "...$(date): - begin running script"
cat $0
echo ""

# Load modules
echo "...$(date): - load modules"
module load bioinfo-tools
module load ruby/2.6.2
module load AlienTrimmer/0.4.0
module load bowtie2/2.3.4.1
echo "...$(date): - done"; echo "" 

# Load ini file
echo "...$(date): - load ini file"
echo $TMPDIR/$(basename $1)
sed "s|meteor.reference.dir=.*|meteor.reference.dir=$TMPDIR/reference|g" $1 > $TMPDIR/$(basename $1)
ini_file=$TMPDIR/$(basename $1)
source $ini_file > /dev/null 2>&1
cat $ini_file
echo "...$(date): - done"; echo "" 

# Run
Main

...Sun Jun 13 15:55:18 CEST 2021: - load modules
Bowtie2 looks for the specified index first in the current directory, then in the directory specified in the BOWTIE2_INDEXES environment variable.
The pregenerated indexes for the reference genonomes are placed under /sw/data/reference/*/*/program_files/bowtie2 for each reference genome
...Sun Jun 13 15:55:23 CEST 2021: - done

...Sun Jun 13 15:55:23 CEST 2021: - load ini file
/scratch/20485524/workflow.ini
[Pipeline]
sample=P18161_205/02-FASTQ/201104_A00187_0373_BHGM2CDSXY/P18161_205_S79_L004
forward_identifier="_R1_001.fastq.gz"
reverse_identifier="_R2_001.fastq.gz"
seq_data_dir="/proj/snic2020-6-153/delivery04021/P18161"
project_dir_rel="/proj/uppstore2019028/projects/metagenome/theo/newscripts/removeafter"
catalog_type="oral_catalog"
seq_platform="illumina"
trimFasta="/proj/uppstore2019028/projects/metagenome/alienTrimmerPF8contaminants.fasta"
meteor_rep="/proj/uppstore2019028/projects/metagenome/software/meteor"
Rdir="/proj/uppstore2019028/projects/metagenome/meteor_downstream_rscripts"
reference_dir="/proj/uppstore2019028/projects/metagenome/meteor_ref"
[worksession]
meteor.reference.dir=/scratch/20485524/reference
meteor.db.type=binary
meteor.nb.attempts=3
meteor.read.cleaning.program=none
meteor.read.cleaning.cmd=
meteor.mapping.program=bowtie2
meteor.mapping.file.format=sam
meteor.is.cpu.percentage=0
meteor.cpu.count=10
meteor.checksum=md5
meteor.excluded.reference.count=3
[main_reference]
meteor.reference.name=oral_catalog
meteor.matches=10000
meteor.mismatches=5
meteor.is.perc.mismatches=1
meteor.bestalignment=1
meteor.mapper.cmd=
meteor.mapping.prefix.name=mapping_vs_oral_catalog
meteor.counting.prefix.name=vs_hs_10_4_oral_catalog
[excluded_reference_1]
meteor.reference.name=Homo_sapiens_GRCh38
meteor.matches=1
meteor.mismatches=5
meteor.is.perc.mismatches=1
meteor.bestalignment=1
meteor.mapping.prefix.name=mapping_vs_Homo_sapiens_GRCh38
[excluded_reference_2]
meteor.reference.name=A_thaliana_TAIR10
meteor.matches=1
meteor.mismatches=5
meteor.is.perc.mismatches=1
meteor.bestalignment=1
meteor.mapping.prefix.name=mapping_vs_A_thaliana_TAIR10
[excluded_reference_3]
meteor.reference.name=Bos_taurus_UMD3
meteor.matches=1
meteor.mismatches=5
meteor.is.perc.mismatches=1
meteor.bestalignment=1
meteor.mapping.prefix.name=mapping_vs_Bos_taurus_UMD3
...Sun Jun 13 15:55:23 CEST 2021: - done

v_fastqgz1=/crex/proj/snic2020-6-153/nobackup/delivery04021/P18161/P18161_205/02-FASTQ/201104_A00187_0373_BHGM2CDSXY/P18161_205_S79_L004_R1_001.fastq.gz
v_fastqgz1_unzip=/scratch/20485524/working/P18161_205_S79_L004_R1_001.fastq.unzipped
v_fastqgz2=/crex/proj/snic2020-6-153/nobackup/delivery04021/P18161/P18161_205/02-FASTQ/201104_A00187_0373_BHGM2CDSXY/P18161_205_S79_L004_R2_001.fastq.gz
v_fastqgz2_unzip=/scratch/20485524/working/P18161_205_S79_L004_R2_001.fastq.unzipped
v_final1=/scratch/20485524/working/P18161_205_S79_L004_1.fastq
v_final2=/scratch/20485524/working/P18161_205_S79_L004_2.fastq
v_prefix=vs_hs_10_4_oral_catalog
v_project_dir=/scratch/20485524
v_refdir=/scratch/20485524/reference
v_sampledir=/scratch/20485524/oral_catalog/sample/P18161_205_S79_L004
v_trimmedS=/scratch/20485524/working/P18161_205_S79_L004.trimmed.s.fastq
v_workdir=/scratch/20485524/working
...Sun Jun 13 15:55:23 CEST 2021: Parse_variables - done
...Sun Jun 13 15:55:23 CEST 2021: Init - done
...Sun Jun 13 16:00:29 CEST 2021: Send - done
...Sun Jun 13 16:05:44 CEST 2021: Decompress - done
AlienTrimmer main options: -k 10 -l 45 -m 5 -q 20 -p 40 (Phred+33)  /  439 fwd alien sequence(s)  /  7856 fwd k-mers (k=10)  /  439 rev alien sequence(s)  /  7856 rev k-mers (k=10)
[02:28]   1,000,000 read pairs processed:     641,756 trimmed (fwd:     300,204  rev:     341,552)      13,957 removed (fwd:       4,730  rev:       9,227)
[04:57]   2,000,000 read pairs processed:   1,292,863 trimmed (fwd:     596,263  rev:     696,600)      28,281 removed (fwd:       9,043  rev:      19,238)
[07:27]   3,000,000 read pairs processed:   1,938,382 trimmed (fwd:     891,942  rev:   1,046,440)      42,616 removed (fwd:      13,214  rev:      29,402)
[09:57]   4,000,000 read pairs processed:   2,575,834 trimmed (fwd:   1,186,024  rev:   1,389,810)      56,046 removed (fwd:      17,556  rev:      38,490)
[12:28]   5,000,000 read pairs processed:   3,221,331 trimmed (fwd:   1,476,371  rev:   1,744,960)      70,430 removed (fwd:      21,667  rev:      48,763)
[14:57]   6,000,000 read pairs processed:   3,859,463 trimmed (fwd:   1,772,238  rev:   2,087,225)      84,025 removed (fwd:      25,989  rev:      58,036)
[17:29]   7,000,000 read pairs processed:   4,498,598 trimmed (fwd:   2,062,316  rev:   2,436,282)      97,551 removed (fwd:      30,138  rev:      67,413)
[20:01]   8,000,000 read pairs processed:   5,139,579 trimmed (fwd:   2,353,078  rev:   2,786,501)     111,416 removed (fwd:      34,135  rev:      77,281)
[22:29]   9,000,000 read pairs processed:   5,766,385 trimmed (fwd:   2,640,801  rev:   3,125,584)     124,574 removed (fwd:      38,422  rev:      86,152)
[24:59]  10,000,000 read pairs processed:   6,401,819 trimmed (fwd:   2,928,211  rev:   3,473,608)     138,078 removed (fwd:      42,451  rev:      95,627)
[27:28]  11,000,000 read pairs processed:   7,039,235 trimmed (fwd:   3,219,564  rev:   3,819,671)     151,244 removed (fwd:      46,557  rev:     104,687)
[30:00]  12,000,000 read pairs processed:   7,675,448 trimmed (fwd:   3,507,541  rev:   4,167,907)     164,190 removed (fwd:      50,559  rev:     113,631)
[32:30]  13,000,000 read pairs processed:   8,316,975 trimmed (fwd:   3,799,166  rev:   4,517,809)     177,484 removed (fwd:      54,664  rev:     122,820)
[34:59]  14,000,000 read pairs processed:   8,944,429 trimmed (fwd:   4,092,113  rev:   4,852,316)     190,949 removed (fwd:      59,186  rev:     131,763)
[37:28]  15,000,000 read pairs processed:   9,566,707 trimmed (fwd:   4,378,401  rev:   5,188,306)     203,980 removed (fwd:      63,339  rev:     140,641)
[39:59]  16,000,000 read pairs processed:  10,314,585 trimmed (fwd:   4,720,487  rev:   5,594,098)     218,994 removed (fwd:      67,791  rev:     151,203)
[42:17]  17,000,000 read pairs processed:  11,034,862 trimmed (fwd:   5,051,802  rev:   5,983,060)     233,817 removed (fwd:      72,543  rev:     161,274)
[44:38]  18,000,000 read pairs processed:  11,754,677 trimmed (fwd:   5,380,700  rev:   6,373,977)     247,492 removed (fwd:      76,859  rev:     170,633)
[47:04]  19,000,000 read pairs processed:  12,475,201 trimmed (fwd:   5,707,108  rev:   6,768,093)     261,127 removed (fwd:      81,422  rev:     179,705)
[49:29]  20,000,000 read pairs processed:  13,160,855 trimmed (fwd:   6,016,657  rev:   7,144,198)     274,551 removed (fwd:      85,788  rev:     188,763)
[51:43]  21,000,000 read pairs processed:  13,866,337 trimmed (fwd:   6,342,713  rev:   7,523,624)     287,744 removed (fwd:      90,427  rev:     197,317)
[54:01]  22,000,000 read pairs processed:  14,540,495 trimmed (fwd:   6,649,847  rev:   7,890,648)     300,836 removed (fwd:      94,883  rev:     205,953)
[56:04]  23,000,000 read pairs processed:  15,220,081 trimmed (fwd:   6,960,331  rev:   8,259,750)     313,500 removed (fwd:      99,332  rev:     214,168)
[57:59]  24,000,000 read pairs processed:  15,893,139 trimmed (fwd:   7,265,491  rev:   8,627,648)     326,153 removed (fwd:     103,730  rev:     222,423)
[59:52]  25,000,000 read pairs processed:  16,569,352 trimmed (fwd:   7,573,581  rev:   8,995,771)     338,845 removed (fwd:     107,996  rev:     230,849)
[61:45]  26,000,000 read pairs processed:  17,252,411 trimmed (fwd:   7,887,603  rev:   9,364,808)     351,685 removed (fwd:     112,504  rev:     239,181)
[63:57]  27,000,000 read pairs processed:  17,929,483 trimmed (fwd:   8,195,685  rev:   9,733,798)     364,618 removed (fwd:     116,718  rev:     247,900)
[66:59]  28,000,000 read pairs processed:  18,653,544 trimmed (fwd:   8,528,608  rev:  10,124,936)     378,756 removed (fwd:     121,714  rev:     257,042)
[69:11]  29,000,000 read pairs processed:  19,332,282 trimmed (fwd:   8,838,132  rev:  10,494,150)     391,837 removed (fwd:     126,377  rev:     265,460)
[69:45]  29,249,881 read pairs processed:  19,499,204 trimmed (fwd:   8,913,283  rev:  10,585,921)     394,937 removed (fwd:     127,387  rev:     267,550)
...Sun Jun 13 17:15:29 CEST 2021: Trim - done
ruby: warning: shebang line ending with \r may cause problems
Import /scratch/20485524/oral_catalog/sample/P18161_205_S79_L004_1.fastq
Import /scratch/20485524/oral_catalog/sample/P18161_205_S79_L004_2.fastq
Importation done!
...Sun Jun 13 17:15:34 CEST 2021: Import - done
/proj/uppstore2019028/projects/metagenome/software/meteor/meteor-pipeline/meteor.rb:184: warning: constant ::Fixnum is deprecated
/proj/uppstore2019028/projects/metagenome/software/meteor/meteor-pipeline/meteor.rb:199: warning: Insecure world writable dir /proj/uppstore2019028/Helen/meteor-linux.2019-11-04 in PATH, mode 042777

Launch mapping


######### Meteor Mapping task description
Sample name = P18161_205_S79_L004
Library name = P18161_205_S79_L004_1
Project name = oral_catalog
Sequencing device = illumina
Workflow = workflow.ini

######### Task main mapping 0
Executing mapping command:
bowtie2-align-l --mm -p 10 --end-to-end --sensitive -k 10000 --no-head --no-sq --no-unal --omit-sec-seq -x /scratch/20485524/reference/oral_catalog/fasta/oral_catalog_dnaspace_index -U /scratch/20485524/oral_catalog/mapping/P18161_205_S79_L004/a71063da0e7789c2638f92752b0fc8f8/P18161_205_S79_L004_1.fastq.idx -S /scratch/20485524/oral_catalog/mapping/P18161_205_S79_L004/mapping_vs_oral_catalog_P18161_205_S79_L004_1/P18161_205_S79_L004_1_1.sam
28886126 reads; of these:
  28886126 (100.00%) were unpaired; of these:
    21621617 (74.85%) aligned 0 times
    1604443 (5.55%) aligned exactly 1 time
    5660066 (19.59%) aligned >1 times
25.15% overall alignment rate

######### TaskExcludedMapping(0, 1) ; reference name: Homo_sapiens_GRCh38
Executing mapping command:
bowtie2-align-l --mm -p 10 --end-to-end --sensitive -k 1 --no-head --no-sq --no-unal --omit-sec-seq -x /scratch/20485524/reference/Homo_sapiens_GRCh38/fasta/Homo_sapiens_GRCh38_dnaspace_index -U /scratch/20485524/oral_catalog/mapping/P18161_205_S79_L004/a71063da0e7789c2638f92752b0fc8f8/P18161_205_S79_L004_1.fastq.idx -S /scratch/20485524/oral_catalog/mapping/P18161_205_S79_L004/mapping_vs_Homo_sapiens_GRCh38_P18161_205_S79_L004_1/P18161_205_S79_L004_1_1.sam
28886126 reads; of these:
  28886126 (100.00%) were unpaired; of these:
    6381885 (22.09%) aligned 0 times
    22504241 (77.91%) aligned exactly 1 time
    0 (0.00%) aligned >1 times
77.91% overall alignment rate

######### TaskExcludedMapping(0, 2) ; reference name: A_thaliana_TAIR10
Executing mapping command:
bowtie2-align-l --mm -p 10 --end-to-end --sensitive -k 1 --no-head --no-sq --no-unal --omit-sec-seq -x /scratch/20485524/reference/A_thaliana_TAIR10/fasta/A_thaliana_TAIR10_dnaspace_index -U /scratch/20485524/oral_catalog/mapping/P18161_205_S79_L004/a71063da0e7789c2638f92752b0fc8f8/P18161_205_S79_L004_1.fastq.idx -S /scratch/20485524/oral_catalog/mapping/P18161_205_S79_L004/mapping_vs_A_thaliana_TAIR10_P18161_205_S79_L004_1/P18161_205_S79_L004_1_1.sam
28886126 reads; of these:
  28886126 (100.00%) were unpaired; of these:
    28879184 (99.98%) aligned 0 times
    6942 (0.02%) aligned exactly 1 time
    0 (0.00%) aligned >1 times
0.02% overall alignment rate

######### TaskExcludedMapping(0, 3) ; reference name: Bos_taurus_UMD3
Executing mapping command:
bowtie2-align-l --mm -p 10 --end-to-end --sensitive -k 1 --no-head --no-sq --no-unal --omit-sec-seq -x /scratch/20485524/reference/Bos_taurus_UMD3/fasta/Bos_taurus_UMD3_dnaspace_index -U /scratch/20485524/oral_catalog/mapping/P18161_205_S79_L004/a71063da0e7789c2638f92752b0fc8f8/P18161_205_S79_L004_1.fastq.idx -S /scratch/20485524/oral_catalog/mapping/P18161_205_S79_L004/mapping_vs_Bos_taurus_UMD3_P18161_205_S79_L004_1/P18161_205_S79_L004_1_1.sam
28886126 reads; of these:
  28886126 (100.00%) were unpaired; of these:
    28503839 (98.68%) aligned 0 times
    382287 (1.32%) aligned exactly 1 time
    0 (0.00%) aligned >1 times
1.32% overall alignment rate
removing re-indexed fastq file:
/scratch/20485524/oral_catalog/mapping/P18161_205_S79_L004/a71063da0e7789c2638f92752b0fc8f8/P18161_205_S79_L004_1.fastq.idx


######### Meteor Mapping task description
Sample name = P18161_205_S79_L004
Library name = P18161_205_S79_L004_2
Project name = oral_catalog
Sequencing device = illumina
Workflow = workflow.ini

######### Task main mapping 1
Executing mapping command:
bowtie2-align-l --mm -p 10 --end-to-end --sensitive -k 10000 --no-head --no-sq --no-unal --omit-sec-seq -x /scratch/20485524/reference/oral_catalog/fasta/oral_catalog_dnaspace_index -U /scratch/20485524/oral_catalog/mapping/P18161_205_S79_L004/a71063da0e7789c2638f92752b0fc8f8/P18161_205_S79_L004_2.fastq.idx -S /scratch/20485524/oral_catalog/mapping/P18161_205_S79_L004/mapping_vs_oral_catalog_P18161_205_S79_L004_2/P18161_205_S79_L004_2_1.sam
28886126 reads; of these:
  28886126 (100.00%) were unpaired; of these:
    21717290 (75.18%) aligned 0 times
    1601981 (5.55%) aligned exactly 1 time
    5566855 (19.27%) aligned >1 times
24.82% overall alignment rate

######### TaskExcludedMapping(1, 1) ; reference name: Homo_sapiens_GRCh38
Executing mapping command:
bowtie2-align-l --mm -p 10 --end-to-end --sensitive -k 1 --no-head --no-sq --no-unal --omit-sec-seq -x /scratch/20485524/reference/Homo_sapiens_GRCh38/fasta/Homo_sapiens_GRCh38_dnaspace_index -U /scratch/20485524/oral_catalog/mapping/P18161_205_S79_L004/a71063da0e7789c2638f92752b0fc8f8/P18161_205_S79_L004_2.fastq.idx -S /scratch/20485524/oral_catalog/mapping/P18161_205_S79_L004/mapping_vs_Homo_sapiens_GRCh38_P18161_205_S79_L004_2/P18161_205_S79_L004_2_1.sam
28886126 reads; of these:
  28886126 (100.00%) were unpaired; of these:
    6636690 (22.98%) aligned 0 times
    22249436 (77.02%) aligned exactly 1 time
    0 (0.00%) aligned >1 times
77.02% overall alignment rate

######### TaskExcludedMapping(1, 2) ; reference name: A_thaliana_TAIR10
Executing mapping command:
bowtie2-align-l --mm -p 10 --end-to-end --sensitive -k 1 --no-head --no-sq --no-unal --omit-sec-seq -x /scratch/20485524/reference/A_thaliana_TAIR10/fasta/A_thaliana_TAIR10_dnaspace_index -U /scratch/20485524/oral_catalog/mapping/P18161_205_S79_L004/a71063da0e7789c2638f92752b0fc8f8/P18161_205_S79_L004_2.fastq.idx -S /scratch/20485524/oral_catalog/mapping/P18161_205_S79_L004/mapping_vs_A_thaliana_TAIR10_P18161_205_S79_L004_2/P18161_205_S79_L004_2_1.sam
28886126 reads; of these:
  28886126 (100.00%) were unpaired; of these:
    28878930 (99.98%) aligned 0 times
    7196 (0.02%) aligned exactly 1 time
    0 (0.00%) aligned >1 times
0.02% overall alignment rate

######### TaskExcludedMapping(1, 3) ; reference name: Bos_taurus_UMD3
Executing mapping command:
bowtie2-align-l --mm -p 10 --end-to-end --sensitive -k 1 --no-head --no-sq --no-unal --omit-sec-seq -x /scratch/20485524/reference/Bos_taurus_UMD3/fasta/Bos_taurus_UMD3_dnaspace_index -U /scratch/20485524/oral_catalog/mapping/P18161_205_S79_L004/a71063da0e7789c2638f92752b0fc8f8/P18161_205_S79_L004_2.fastq.idx -S /scratch/20485524/oral_catalog/mapping/P18161_205_S79_L004/mapping_vs_Bos_taurus_UMD3_P18161_205_S79_L004_2/P18161_205_S79_L004_2_1.sam
28886126 reads; of these:
  28886126 (100.00%) were unpaired; of these:
    28512731 (98.71%) aligned 0 times
    373395 (1.29%) aligned exactly 1 time
    0 (0.00%) aligned >1 times
1.29% overall alignment rate
removing re-indexed fastq file:
/scratch/20485524/oral_catalog/mapping/P18161_205_S79_L004/a71063da0e7789c2638f92752b0fc8f8/P18161_205_S79_L004_2.fastq.idx

Launch counting

Executing counting command:
meteor-counter -w /scratch/20485524/workflow.ini -i /scratch/20485524/oral_catalog/sample/P18161_205_S79_L004 -p /scratch/20485524/oral_catalog -o mapping -c all
PARSE ERROR: Argument: -c
             Couldn't find match for argument

Brief USAGE: 
   meteor-counter  [-f] -o <string> -p <string> -i <string> -w <string>
                   [--] [--version] [-h]

For complete USAGE and HELP type: 
   meteor-counter --help

Error in MeteorSession::LaunchCounting, counting command exited with non zero status
...Mon Jun 14 12:24:10 CEST 2021: Map_reads - failed
