process.module = ['devtools/ruby', 'apps/bowtie2']

params {
	input = '/proj/snic2020-6-153/delivery03711/P15952/FMT12*{1,2}.fastq.gz'
	outdir = '/proj/snic2020-6-153/nobackup/private/gutnftest'
	tracedir = "${params.outdir}/pipeline_info"
	catalog_type = 'gut_catalog'
	seq_platform = 'illumina'
	ini_file = '/home/theop/meteor/gut_msp_pipeline.ini'
	mainref = 'hs_10_4_igc2'
	reference = '/proj/uppstore2019028/projects/metagenome/meteor.reference'
	meteor = '/proj/uppstore2019028/projects/metagenome/software/meteor'
	Rdir = '/proj/uppstore2019028/projects/metagenome/meteor_downstream_rscripts'
	alientrimmer = '/proj/uppstore2019028/projects/metagenome/software/AlienTrimmer/src'
	trimFasta = '/proj/uppstore2019028/projects/metagenome/alienTrimmerPF8contaminants.fasta'
	msp_dir = "/proj/uppstore2019028/projects/metagenome/dataverse_files"
	inifile = """
	[worksession]
	meteor.reference.dir=/proj/uppstore2019028/projects/metagenome/meteor_ref
	meteor.db.type=binary
	meteor.nb.attempts=3
	meteor.read.cleaning.program=none
	meteor.read.cleaning.cmd=
	meteor.mapping.program=bowtie2
	meteor.mapping.file.format=sam
	meteor.is.cpu.percentage=0
	meteor.cpu.count=20
	meteor.checksum=md5
	meteor.excluded.reference.count=3
	[main_reference]
	meteor.reference.name=hs_10_4_igc2
	meteor.matches=10000
	meteor.mismatches=5
	meteor.is.perc.mismatches=1
	meteor.bestalignment=1
	meteor.mapper.cmd=
	meteor.mapping.prefix.name=mapping_vs_hs_10_4_igc2
	meteor.counting.prefix.name=vs_hs_10_4_igc2_id95_rmHost_id95
	[excluded_reference_1]
	meteor.reference.name=Homo_sapiens_GRCh38
	meteor.matches=1
	meteor.mismatches=5
	meteor.is.perc.mismatches=1
	meteor.bestalignment=1
	meteor.mapping.prefix.name=mapping_vs_Homo_sapiens_GRCh38
	[excluded_reference_2]
	meteor.reference.name=A_thaliana_TAIR10
	meteor.matches=1
	meteor.mismatches=5
	meteor.is.perc.mismatches=1
	meteor.bestalignment=1
	meteor.mapping.prefix.name=mapping_vs_A_thaliana_TAIR10
	[excluded_reference_3]
	meteor.reference.name=Bos_taurus_UMD3
	meteor.matches=1
	meteor.mismatches=5
	meteor.is.perc.mismatches=1
	meteor.bestalignment=1
	meteor.mapping.prefix.name=mapping_vs_Bos_taurus_UMD3
	"""
}

//timeline {
//	enabled = true
//	file = "$params.outdir/timeline.html"
//}

manifest {
	name = 'meteor-nf'
	author = 'Theo Portlock'
	homePage = 'https://github.com/theoportlock/meteor_pipeline'
	description = 'A metagenomics pipeline for the binning into MSPs'
	mainScript = 'main.nf'
	version = '1.0.0'
}
