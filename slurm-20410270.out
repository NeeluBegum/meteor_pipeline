...Thu Jun 10 13:41:57 CEST 2021: - begin running script
#!/bin/bash -l
#SBATCH --account=snic2021-5-248
#SBATCH --partition=core
#SBATCH --ntasks=10
#SBATCH --time=2-04:00:00
#SBATCH --job-name=Meteor
#SBATCH --mail-user=zn.tportlock@gmail.com
#SBATCH --mail-type=ALL
##SBATCH --output=/proj/uppstore2019028/projects/metagenome/theo/newscripts/meteor/logs/%j 

function Run {
	start=$(date +%m)
	echo "...$(date): $1 - begin"; echo ""
	$@ \
	&& (echo "...$(date): $1 - done"; echo "") \
	|| (echo "...$(date): $1 - failed"; echo "")
	end=$(date +%s)
	echo "...time taken: $((end-start))"; echo ""
}
function Parse_variables {
	v_project_dir="$TMPDIR"
	v_workdir="${v_project_dir}/working"
	v_refdir="${v_project_dir}/reference"
	v_fastqgz1="$(readlink -f ${fastqgzs[0]})"
	v_fastqgz2="$(readlink -f ${fastqgzs[1]})"
	v_fastqgz1_unzip="${v_workdir}/$(basename $v_fastqgz1 .gz).unzipped"
	v_fastqgz2_unzip="${v_workdir}/$(basename $v_fastqgz2 .gz).unzipped"
	v_trimmedS="${v_workdir}/${sampleId}.trimmed.s.fastq"
	v_final1="${v_workdir}/${sampleId}_1.fastq"
	v_final2="${v_workdir}/${sampleId}_2.fastq"
	v_sampledir="${v_project_dir}/${catalog_type}/sample/${sampleId}"
	v_downstream_dir="$v_project_dir/Downstream"
	vars="$(compgen -A variable | grep "^v_.*")"
	for var in ${vars}; do echo "${var}=${!var}"; done
	for var in ${vars}; do if [[ -z "${!var}" ]]; then echo "missing argument ${var}" ; return 1 ; fi ; done
}
function Init {
	mkdir -p ${v_project_dir}/${catalog_type}/{sample,mapping,profiles}
	mkdir -p ${v_workdir}
	mkdir -p ${v_refdir}
}
function Send {
	cp $v_fastqgz1 $v_workdir
	cp $v_fastqgz2 $v_workdir
	cp -r ${reference_dir}/* $v_refdir
	cp -r $trimFasta $v_project_dir
}
function Decompress {
	zcat ${v_workdir}/$(basename $v_fastqgz1) > $v_fastqgz1_unzip & pid1=$!
	zcat ${v_workdir}/$(basename $v_fastqgz2) > $v_fastqgz2_unzip & pid2=$!
	trap "kill -2 $pid1 $pid2" SIGINT
	wait
}
function Trim {
	[[ -f $v_fastqgz1_unzip && -f $v_fastqgz2_unzip ]] \
	|| (echo "zip file not found" ; return 1 )
	java -jar ${ALIEN_TRIMMER}/AlienTrimmer.jar \
		-k 10 -l 45 -m 5 -p 40 -q 20 \
		-if ${v_fastqgz1_unzip} -ir ${v_fastqgz2_unzip} -c $TMPDIR/$(basename $trimFasta) \
		-of ${v_final1} -or ${v_final2} -os ${v_trimmedS} \
	|| return 1
}
function Import {
	[[ -f $v_final1 && -f $v_final2 ]] \
	|| (echo "trimmed files not found" ; return 1 )
	mv ${v_final1} ${v_final2} ${v_project_dir}/${catalog_type}/sample &&
	rm -r ${v_workdir}
	ruby ${meteorImportScript} \
		-i ${v_project_dir}/${catalog_type}/sample \
		-p ${catalog_type} \
		-t ${seq_platform} \
		-m "${sampleId}*" \
	|| return 1
}
function Map_reads {
	ruby ${meteor}/meteor.rb \
		-w ${ini_file} \
		-i ${v_sampledir} \
		-p ${v_project_dir}/${catalog_type} \
		-o mapping \
	|| return 1
}
function Quantify {
	${meteor}/meteor-profiler \
		-p ${v_project_dir}/${catalog_type} \
		-f ${v_project_dir}/${catalog_type}/profiles \
		-t smart_shared_reads \
		-w ${ini_file} \
		-o ${sampleId} ${v_project_dir}/${catalog_type}/mapping/${sampleId}/${sampleId}_${v_prefix}_gene_profile/census.dat \
	&& rm -r ${v_project_dir}/${catalog_type}/mapping/${sampleId} \
	|| return 1
}
function Recover {
	rsync -aurvP --remove-source-files $v_project_dir/ $project_dir_rel
}

Main() {
	sampleId=$(basename $1 .fastq.gz)
	fastqgzs+=("$2")
	fastqgzs+=("$3")

	Run Parse_variables &&
	Run Init &&
	Run Send &&
	Run Decompress &&
	Run Trim &&
	Run Import &&
	Run Map_reads &&
	Run Quantify &&
	Run Recover
}

echo "...$(date): - begin running script"
cat $0
echo ""

# Load modules
echo "...$(date): - load modules"
module load bioinfo-tools
module load ruby/2.6.2
module load AlienTrimmer/0.4.0
module load bowtie2/2.3.4.1
echo "...$(date): - done"; echo "" 

# Load ini file
echo "...$(date): - load ini file"
sed -i "s|meteor.reference.dir=.*|meteor.reference.dir=$TMPDIR/reference|g" $1
ini_file=$1
source $ini_file > /dev/null 2>&1
v_prefix=$( grep "meteor.counting.prefix.name" $ini_file | sed "s/^.*=//g" )
cat $ini_file
echo "...$(date): - done"; echo "" 

# Run meteor
Main $sample $seq_data_dir/${sample}${forward_identifier} $seq_data_dir/${sample}${reverse_identifier}

...Thu Jun 10 13:41:57 CEST 2021: - load modules
Bowtie2 looks for the specified index first in the current directory, then in the directory specified in the BOWTIE2_INDEXES environment variable.
The pregenerated indexes for the reference genonomes are placed under /sw/data/reference/*/*/program_files/bowtie2 for each reference genome
...Thu Jun 10 13:42:07 CEST 2021: - done

...Thu Jun 10 13:42:07 CEST 2021: - load ini file
[Pipeline]
sample=P18161_236/02-FASTQ/201104_A00187_0373_BHGM2CDSXY/P18161_236_S108_L004
forward_identifier="_R1_001.fastq.gz"
reverse_identifier="_R2_001.fastq.gz"
seq_data_dir="/proj/snic2020-6-153/delivery04021/P18161"
project_dir_rel="/proj/uppstore2019028/projects/metagenome/theo/newscripts/tmp"
catalog_type="oral_catalog"
seq_platform="illumina"
trimFasta="/proj/uppstore2019028/projects/metagenome/alienTrimmerPF8contaminants.fasta"
meteorImportScript="/proj/uppstore2019028/meteor.2019.11.04/MeteorImportFastq.rb"
meteor="/proj/uppstore2019028/projects/metagenome/software/meteor_linux_2019.11.04"
Rdir="/proj/uppstore2019028/projects/metagenome/meteor_downstream_rscripts"
reference_dir="/proj/uppstore2019028/projects/metagenome/meteor_ref"
[worksession]
meteor.reference.dir=/scratch/20410270/reference
meteor.db.type=binary
meteor.nb.attempts=3
meteor.read.cleaning.program=none
meteor.read.cleaning.cmd=
meteor.mapping.program=bowtie2
meteor.mapping.file.format=sam
meteor.is.cpu.percentage=0
meteor.cpu.count=10
meteor.checksum=md5
meteor.excluded.reference.count=3
[main_reference]
meteor.reference.name=oral_catalog
meteor.matches=10000
meteor.mismatches=5
meteor.is.perc.mismatches=1
meteor.bestalignment=1
meteor.mapper.cmd=
meteor.mapping.prefix.name=mapping_vs_oral_catalog
meteor.counting.prefix.name=vs_hs_10_4_oral_catalog
[excluded_reference_1]
meteor.reference.name=Homo_sapiens_GRCh38
meteor.matches=1
meteor.mismatches=5
meteor.is.perc.mismatches=1
meteor.bestalignment=1
meteor.mapping.prefix.name=mapping_vs_Homo_sapiens_GRCh38
[excluded_reference_2]
meteor.reference.name=A_thaliana_TAIR10
meteor.matches=1
meteor.mismatches=5
meteor.is.perc.mismatches=1
meteor.bestalignment=1
meteor.mapping.prefix.name=mapping_vs_A_thaliana_TAIR10
[excluded_reference_3]
meteor.reference.name=Bos_taurus_UMD3
meteor.matches=1
meteor.mismatches=5
meteor.is.perc.mismatches=1
meteor.bestalignment=1
meteor.mapping.prefix.name=mapping_vs_Bos_taurus_UMD3
...Thu Jun 10 13:42:08 CEST 2021: - done

...Thu Jun 10 13:42:08 CEST 2021: Parse_variables - begin

v_downstream_dir=/scratch/20410270/Downstream
v_fastqgz1=/crex/proj/snic2020-6-153/nobackup/delivery04021/P18161/P18161_236/02-FASTQ/201104_A00187_0373_BHGM2CDSXY/P18161_236_S108_L004_R1_001.fastq.gz
v_fastqgz1_unzip=/scratch/20410270/working/P18161_236_S108_L004_R1_001.fastq.unzipped
v_fastqgz2=/crex/proj/snic2020-6-153/nobackup/delivery04021/P18161/P18161_236/02-FASTQ/201104_A00187_0373_BHGM2CDSXY/P18161_236_S108_L004_R2_001.fastq.gz
v_fastqgz2_unzip=/scratch/20410270/working/P18161_236_S108_L004_R2_001.fastq.unzipped
v_final1=/scratch/20410270/working/P18161_236_S108_L004_1.fastq
v_final2=/scratch/20410270/working/P18161_236_S108_L004_2.fastq
v_prefix=vs_hs_10_4_oral_catalog
v_project_dir=/scratch/20410270
v_refdir=/scratch/20410270/reference
v_sampledir=/scratch/20410270/oral_catalog/sample/P18161_236_S108_L004
v_trimmedS=/scratch/20410270/working/P18161_236_S108_L004.trimmed.s.fastq
v_workdir=/scratch/20410270/working
...Thu Jun 10 13:42:08 CEST 2021: Parse_variables - done

...time taken: 1623325322

...Thu Jun 10 13:42:08 CEST 2021: Init - begin

...Thu Jun 10 13:42:08 CEST 2021: Init - done

...time taken: 1623325322

...Thu Jun 10 13:42:08 CEST 2021: Send - begin

...Thu Jun 10 13:56:57 CEST 2021: Send - done

...time taken: 1623326211

...Thu Jun 10 13:56:57 CEST 2021: Decompress - begin

...Thu Jun 10 14:13:04 CEST 2021: Decompress - done

...time taken: 1623327178

...Thu Jun 10 14:13:04 CEST 2021: Trim - begin

AlienTrimmer main options: -k 10 -l 45 -m 5 -q 20 -p 40 (Phred+33)  /  439 fwd alien sequence(s)  /  7856 fwd k-mers (k=10)  /  439 rev alien sequence(s)  /  7856 rev k-mers (k=10)
[01:56]   1,000,000 read pairs processed:     690,236 trimmed (fwd:     335,666  rev:     354,570)      18,499 removed (fwd:       8,697  rev:       9,802)
[03:52]   2,000,000 read pairs processed:   1,358,921 trimmed (fwd:     656,463  rev:     702,458)      35,752 removed (fwd:      16,633  rev:      19,119)
[05:50]   3,000,000 read pairs processed:   2,033,835 trimmed (fwd:     978,376  rev:   1,055,459)      53,151 removed (fwd:      24,700  rev:      28,451)
[07:48]   4,000,000 read pairs processed:   2,712,060 trimmed (fwd:   1,296,206  rev:   1,415,854)      69,587 removed (fwd:      32,133  rev:      37,454)
[09:46]   5,000,000 read pairs processed:   3,379,480 trimmed (fwd:   1,607,035  rev:   1,772,445)      86,060 removed (fwd:      39,421  rev:      46,639)
[11:44]   6,000,000 read pairs processed:   4,060,171 trimmed (fwd:   1,929,821  rev:   2,130,350)     103,825 removed (fwd:      47,353  rev:      56,472)
[13:43]   7,000,000 read pairs processed:   4,732,065 trimmed (fwd:   2,252,682  rev:   2,479,383)     120,884 removed (fwd:      55,192  rev:      65,692)
[15:39]   8,000,000 read pairs processed:   5,388,579 trimmed (fwd:   2,566,859  rev:   2,821,720)     137,486 removed (fwd:      62,793  rev:      74,693)
[17:36]   9,000,000 read pairs processed:   6,056,115 trimmed (fwd:   2,883,071  rev:   3,173,044)     154,254 removed (fwd:      70,416  rev:      83,838)
[19:35]  10,000,000 read pairs processed:   6,719,691 trimmed (fwd:   3,193,413  rev:   3,526,278)     170,552 removed (fwd:      77,725  rev:      92,827)
[21:35]  11,000,000 read pairs processed:   7,401,635 trimmed (fwd:   3,509,141  rev:   3,892,494)     186,893 removed (fwd:      84,904  rev:     101,989)
[23:32]  12,000,000 read pairs processed:   8,082,580 trimmed (fwd:   3,836,932  rev:   4,245,648)     204,805 removed (fwd:      93,154  rev:     111,651)
[25:29]  13,000,000 read pairs processed:   8,743,044 trimmed (fwd:   4,153,007  rev:   4,590,037)     221,628 removed (fwd:     100,771  rev:     120,857)
[27:30]  14,000,000 read pairs processed:   9,406,709 trimmed (fwd:   4,467,937  rev:   4,938,772)     238,677 removed (fwd:     108,422  rev:     130,255)
[29:30]  15,000,000 read pairs processed:  10,071,546 trimmed (fwd:   4,780,327  rev:   5,291,219)     255,346 removed (fwd:     115,927  rev:     139,419)
[31:35]  16,000,000 read pairs processed:  10,743,531 trimmed (fwd:   5,092,464  rev:   5,651,067)     271,556 removed (fwd:     123,082  rev:     148,474)
[33:42]  17,000,000 read pairs processed:  11,420,972 trimmed (fwd:   5,409,758  rev:   6,011,214)     288,220 removed (fwd:     130,512  rev:     157,708)
[35:49]  18,000,000 read pairs processed:  12,078,500 trimmed (fwd:   5,724,994  rev:   6,353,506)     305,152 removed (fwd:     138,271  rev:     166,881)
[37:54]  19,000,000 read pairs processed:  12,732,988 trimmed (fwd:   6,036,357  rev:   6,696,631)     321,658 removed (fwd:     145,751  rev:     175,907)
[39:58]  20,000,000 read pairs processed:  13,389,739 trimmed (fwd:   6,346,584  rev:   7,043,155)     337,916 removed (fwd:     153,122  rev:     184,794)
[42:03]  21,000,000 read pairs processed:  14,051,096 trimmed (fwd:   6,657,257  rev:   7,393,839)     353,990 removed (fwd:     160,370  rev:     193,620)
[44:11]  22,000,000 read pairs processed:  14,720,681 trimmed (fwd:   6,968,486  rev:   7,752,195)     370,206 removed (fwd:     167,603  rev:     202,603)
[46:16]  23,000,000 read pairs processed:  15,398,357 trimmed (fwd:   7,290,421  rev:   8,107,936)     387,176 removed (fwd:     175,326  rev:     211,850)
[48:19]  24,000,000 read pairs processed:  16,054,242 trimmed (fwd:   7,601,942  rev:   8,452,300)     403,774 removed (fwd:     182,869  rev:     220,905)
[50:22]  25,000,000 read pairs processed:  16,716,366 trimmed (fwd:   7,913,271  rev:   8,803,095)     420,182 removed (fwd:     190,287  rev:     229,895)
[52:24]  26,000,000 read pairs processed:  17,379,225 trimmed (fwd:   8,223,763  rev:   9,155,462)     436,576 removed (fwd:     197,578  rev:     238,998)
[54:29]  27,000,000 read pairs processed:  18,046,721 trimmed (fwd:   8,535,434  rev:   9,511,287)     452,787 removed (fwd:     204,892  rev:     247,895)
[56:36]  28,000,000 read pairs processed:  18,720,935 trimmed (fwd:   8,850,667  rev:   9,870,268)     469,209 removed (fwd:     212,404  rev:     256,805)
[58:38]  29,000,000 read pairs processed:  19,387,242 trimmed (fwd:   9,176,400  rev:  10,210,842)     487,407 removed (fwd:     220,937  rev:     266,470)
[60:37]  30,000,000 read pairs processed:  20,044,978 trimmed (fwd:   9,494,244  rev:  10,550,734)     504,522 removed (fwd:     228,747  rev:     275,775)
[62:40]  31,000,000 read pairs processed:  20,700,774 trimmed (fwd:   9,809,940  rev:  10,890,834)     521,714 removed (fwd:     236,681  rev:     285,033)
[64:41]  32,000,000 read pairs processed:  21,353,837 trimmed (fwd:  10,121,588  rev:  11,232,249)     538,447 removed (fwd:     244,337  rev:     294,110)
[67:14]  33,000,000 read pairs processed:  22,012,284 trimmed (fwd:  10,432,304  rev:  11,579,980)     554,591 removed (fwd:     251,708  rev:     302,883)
[72:41]  34,000,000 read pairs processed:  22,780,454 trimmed (fwd:  10,792,122  rev:  11,988,332)     572,228 removed (fwd:     259,458  rev:     312,770)
[81:59]  35,000,000 read pairs processed:  23,585,955 trimmed (fwd:  11,170,429  rev:  12,415,526)     591,764 removed (fwd:     267,896  rev:     323,868)
[91:19]  36,000,000 read pairs processed:  24,370,680 trimmed (fwd:  11,538,061  rev:  12,832,619)     612,308 removed (fwd:     276,534  rev:     335,774)
[101:05]  37,000,000 read pairs processed:  25,099,336 trimmed (fwd:  11,885,787  rev:  13,213,549)     630,833 removed (fwd:     285,562  rev:     345,271)
[111:05]  38,000,000 read pairs processed:  25,813,586 trimmed (fwd:  12,222,715  rev:  13,590,871)     648,799 removed (fwd:     294,103  rev:     354,696)
[120:13]  39,000,000 read pairs processed:  26,550,060 trimmed (fwd:  12,568,551  rev:  13,981,509)     666,749 removed (fwd:     302,573  rev:     364,176)
[128:46]  40,000,000 read pairs processed:  27,322,758 trimmed (fwd:  12,931,613  rev:  14,391,145)     684,755 removed (fwd:     311,057  rev:     373,698)
[137:38]  41,000,000 read pairs processed:  28,077,049 trimmed (fwd:  13,283,320  rev:  14,793,729)     702,626 removed (fwd:     319,415  rev:     383,211)
[146:01]  42,000,000 read pairs processed:  28,803,875 trimmed (fwd:  13,624,685  rev:  15,179,190)     720,922 removed (fwd:     328,040  rev:     392,882)
[154:11]  43,000,000 read pairs processed:  29,522,999 trimmed (fwd:  13,959,044  rev:  15,563,955)     738,966 removed (fwd:     336,505  rev:     402,461)
[162:34]  44,000,000 read pairs processed:  30,234,696 trimmed (fwd:  14,290,503  rev:  15,944,193)     756,834 removed (fwd:     344,939  rev:     411,895)
[171:22]  45,000,000 read pairs processed:  30,971,268 trimmed (fwd:  14,642,403  rev:  16,328,865)     775,194 removed (fwd:     353,536  rev:     421,658)
[179:19]  46,000,000 read pairs processed:  31,699,122 trimmed (fwd:  14,987,212  rev:  16,711,910)     793,520 removed (fwd:     362,082  rev:     431,438)
[187:41]  47,000,000 read pairs processed:  32,420,554 trimmed (fwd:  15,328,557  rev:  17,091,997)     812,044 removed (fwd:     370,761  rev:     441,283)
[195:17]  48,000,000 read pairs processed:  33,130,768 trimmed (fwd:  15,663,428  rev:  17,467,340)     830,290 removed (fwd:     379,386  rev:     450,904)
[202:53]  49,000,000 read pairs processed:  33,834,582 trimmed (fwd:  15,991,841  rev:  17,842,741)     847,996 removed (fwd:     387,659  rev:     460,337)
[210:13]  50,000,000 read pairs processed:  34,550,386 trimmed (fwd:  16,328,232  rev:  18,222,154)     865,670 removed (fwd:     395,902  rev:     469,768)
[217:19]  51,000,000 read pairs processed:  35,262,414 trimmed (fwd:  16,666,112  rev:  18,596,302)     883,963 removed (fwd:     404,424  rev:     479,539)
[223:47]  52,000,000 read pairs processed:  35,969,372 trimmed (fwd:  16,999,049  rev:  18,970,323)     902,036 removed (fwd:     412,908  rev:     489,128)
[229:05]  53,000,000 read pairs processed:  36,677,673 trimmed (fwd:  17,331,202  rev:  19,346,471)     920,393 removed (fwd:     421,575  rev:     498,818)
[233:39]  54,000,000 read pairs processed:  37,382,426 trimmed (fwd:  17,659,310  rev:  19,723,116)     938,130 removed (fwd:     429,800  rev:     508,330)
[237:21]  55,000,000 read pairs processed:  38,089,232 trimmed (fwd:  17,989,311  rev:  20,099,921)     955,482 removed (fwd:     437,926  rev:     517,556)
[240:39]  56,000,000 read pairs processed:  38,806,579 trimmed (fwd:  18,333,185  rev:  20,473,394)     973,536 removed (fwd:     446,273  rev:     527,263)
[243:32]  57,000,000 read pairs processed:  39,517,632 trimmed (fwd:  18,672,141  rev:  20,845,491)     991,811 removed (fwd:     454,852  rev:     536,959)
[246:17]  58,000,000 read pairs processed:  40,227,743 trimmed (fwd:  19,008,930  rev:  21,218,813)   1,010,082 removed (fwd:     463,374  rev:     546,708)
[248:55]  59,000,000 read pairs processed:  40,934,508 trimmed (fwd:  19,342,994  rev:  21,591,514)   1,028,366 removed (fwd:     471,901  rev:     556,465)
[251:40]  60,000,000 read pairs processed:  41,638,259 trimmed (fwd:  19,673,383  rev:  21,964,876)   1,045,505 removed (fwd:     479,880  rev:     565,625)
[255:40]  61,000,000 read pairs processed:  42,390,988 trimmed (fwd:  20,029,639  rev:  22,361,349)   1,064,455 removed (fwd:     488,940  rev:     575,515)
[258:55]  62,000,000 read pairs processed:  43,132,485 trimmed (fwd:  20,383,939  rev:  22,748,546)   1,084,280 removed (fwd:     498,387  rev:     585,893)
[261:30]  63,000,000 read pairs processed:  43,866,963 trimmed (fwd:  20,732,427  rev:  23,134,536)   1,103,488 removed (fwd:     507,480  rev:     596,008)
[264:04]  64,000,000 read pairs processed:  44,581,880 trimmed (fwd:  21,072,452  rev:  23,509,428)   1,122,666 removed (fwd:     516,590  rev:     606,076)
[266:38]  65,000,000 read pairs processed:  45,289,913 trimmed (fwd:  21,404,274  rev:  23,885,639)   1,140,542 removed (fwd:     524,984  rev:     615,558)
[268:22]  65,667,536 read pairs processed:  45,757,544 trimmed (fwd:  21,622,688  rev:  24,134,856)   1,152,276 removed (fwd:     530,510  rev:     621,766)
...Thu Jun 10 18:41:28 CEST 2021: Trim - done

...time taken: 1623343282

...Thu Jun 10 18:41:28 CEST 2021: Import - begin

ruby: warning: shebang line ending with \r may cause problems
Import /scratch/20410270/oral_catalog/sample/P18161_236_S108_L004_1.fastq
Import /scratch/20410270/oral_catalog/sample/P18161_236_S108_L004_2.fastq
Importation done!
...Thu Jun 10 18:41:36 CEST 2021: Import - done

...time taken: 1623343290

...Thu Jun 10 18:41:36 CEST 2021: Map_reads - begin

/proj/uppstore2019028/projects/metagenome/software/meteor_linux_2019.11.04/meteor.rb:146: warning: constant ::Fixnum is deprecated
/proj/uppstore2019028/projects/metagenome/software/meteor_linux_2019.11.04/meteor.rb:161: warning: Insecure world writable dir /proj/uppstore2019028/Helen/meteor-linux.2019-11-04 in PATH, mode 042777

Launch mapping


######### Meteor Mapping task description
Sample name = P18161_236_S108_L004
Library name = P18161_236_S108_L004_1
Project name = oral_catalog
Sequencing device = illumina
Workflow = P18161_236_S108_L004.ini

######### Task main mapping 0
Executing mapping command:
bowtie2-align-l --mm -p 10 --end-to-end --sensitive -k 10000 --no-head --no-sq --no-unal --omit-sec-seq -x /scratch/20410270/reference/oral_catalog/fasta/oral_catalog_dnaspace_index -U /scratch/20410270/oral_catalog/sample/P18161_236_S108_L004/b1df5498d2a7c970814ee3f129e1c66c/P18161_236_S108_L004_1.fastq.idx -S /scratch/20410270/oral_catalog/mapping/P18161_236_S108_L004/mapping_vs_oral_catalog_P18161_236_S108_L004_1/P18161_236_S108_L004_1_1.sam
64756024 reads; of these:
  64756024 (100.00%) were unpaired; of these:
    24844332 (38.37%) aligned 0 times
    7301077 (11.27%) aligned exactly 1 time
    32610615 (50.36%) aligned >1 times
61.63% overall alignment rate

######### TaskExcludedMapping(0, 1) ; reference name: Homo_sapiens_GRCh38
Executing mapping command:
bowtie2-align-l --mm -p 10 --end-to-end --sensitive -k 1 --no-head --no-sq --no-unal --omit-sec-seq -x /scratch/20410270/reference/Homo_sapiens_GRCh38/fasta/Homo_sapiens_GRCh38_dnaspace_index -U /scratch/20410270/oral_catalog/sample/P18161_236_S108_L004/b1df5498d2a7c970814ee3f129e1c66c/P18161_236_S108_L004_1.fastq.idx -S /scratch/20410270/oral_catalog/mapping/P18161_236_S108_L004/mapping_vs_Homo_sapiens_GRCh38_P18161_236_S108_L004_1/P18161_236_S108_L004_1_1.sam
64756024 reads; of these:
  64756024 (100.00%) were unpaired; of these:
    45522328 (70.30%) aligned 0 times
    19233696 (29.70%) aligned exactly 1 time
    0 (0.00%) aligned >1 times
29.70% overall alignment rate

######### TaskExcludedMapping(0, 2) ; reference name: A_thaliana_TAIR10
Executing mapping command:
bowtie2-align-l --mm -p 10 --end-to-end --sensitive -k 1 --no-head --no-sq --no-unal --omit-sec-seq -x /scratch/20410270/reference/A_thaliana_TAIR10/fasta/A_thaliana_TAIR10_dnaspace_index -U /scratch/20410270/oral_catalog/sample/P18161_236_S108_L004/b1df5498d2a7c970814ee3f129e1c66c/P18161_236_S108_L004_1.fastq.idx -S /scratch/20410270/oral_catalog/mapping/P18161_236_S108_L004/mapping_vs_A_thaliana_TAIR10_P18161_236_S108_L004_1/P18161_236_S108_L004_1_1.sam
64756024 reads; of these:
  64756024 (100.00%) were unpaired; of these:
    64736851 (99.97%) aligned 0 times
    19173 (0.03%) aligned exactly 1 time
    0 (0.00%) aligned >1 times
0.03% overall alignment rate

######### TaskExcludedMapping(0, 3) ; reference name: Bos_taurus_UMD3
Executing mapping command:
bowtie2-align-l --mm -p 10 --end-to-end --sensitive -k 1 --no-head --no-sq --no-unal --omit-sec-seq -x /scratch/20410270/reference/Bos_taurus_UMD3/fasta/Bos_taurus_UMD3_dnaspace_index -U /scratch/20410270/oral_catalog/sample/P18161_236_S108_L004/b1df5498d2a7c970814ee3f129e1c66c/P18161_236_S108_L004_1.fastq.idx -S /scratch/20410270/oral_catalog/mapping/P18161_236_S108_L004/mapping_vs_Bos_taurus_UMD3_P18161_236_S108_L004_1/P18161_236_S108_L004_1_1.sam
64756024 reads; of these:
  64756024 (100.00%) were unpaired; of these:
    64402750 (99.45%) aligned 0 times
    353274 (0.55%) aligned exactly 1 time
    0 (0.00%) aligned >1 times
0.55% overall alignment rate
removing re-indexed file:
/scratch/20410270/oral_catalog/sample/P18161_236_S108_L004/b1df5498d2a7c970814ee3f129e1c66c/P18161_236_S108_L004_1.fastq.idx


######### Meteor Mapping task description
Sample name = P18161_236_S108_L004
Library name = P18161_236_S108_L004_2
Project name = oral_catalog
Sequencing device = illumina
Workflow = P18161_236_S108_L004.ini

######### Task main mapping 1
Executing mapping command:
bowtie2-align-l --mm -p 10 --end-to-end --sensitive -k 10000 --no-head --no-sq --no-unal --omit-sec-seq -x /scratch/20410270/reference/oral_catalog/fasta/oral_catalog_dnaspace_index -U /scratch/20410270/oral_catalog/sample/P18161_236_S108_L004/b1df5498d2a7c970814ee3f129e1c66c/P18161_236_S108_L004_2.fastq.idx -S /scratch/20410270/oral_catalog/mapping/P18161_236_S108_L004/mapping_vs_oral_catalog_P18161_236_S108_L004_2/P18161_236_S108_L004_2_1.sam
