...Thu Jun 10 13:41:57 CEST 2021: - begin running script
#!/bin/bash -l
#SBATCH --account=snic2021-5-248
#SBATCH --partition=core
#SBATCH --ntasks=10
#SBATCH --time=2-04:00:00
#SBATCH --job-name=Meteor
#SBATCH --mail-user=zn.tportlock@gmail.com
#SBATCH --mail-type=ALL
##SBATCH --output=/proj/uppstore2019028/projects/metagenome/theo/newscripts/meteor/logs/%j 

function Run {
	start=$(date +%m)
	echo "...$(date): $1 - begin"; echo ""
	$@ \
	&& (echo "...$(date): $1 - done"; echo "") \
	|| (echo "...$(date): $1 - failed"; echo "")
	end=$(date +%s)
	echo "...time taken: $((end-start))"; echo ""
}
function Parse_variables {
	v_project_dir="$TMPDIR"
	v_workdir="${v_project_dir}/working"
	v_refdir="${v_project_dir}/reference"
	v_fastqgz1="$(readlink -f ${fastqgzs[0]})"
	v_fastqgz2="$(readlink -f ${fastqgzs[1]})"
	v_fastqgz1_unzip="${v_workdir}/$(basename $v_fastqgz1 .gz).unzipped"
	v_fastqgz2_unzip="${v_workdir}/$(basename $v_fastqgz2 .gz).unzipped"
	v_trimmedS="${v_workdir}/${sampleId}.trimmed.s.fastq"
	v_final1="${v_workdir}/${sampleId}_1.fastq"
	v_final2="${v_workdir}/${sampleId}_2.fastq"
	v_sampledir="${v_project_dir}/${catalog_type}/sample/${sampleId}"
	v_downstream_dir="$v_project_dir/Downstream"
	vars="$(compgen -A variable | grep "^v_.*")"
	for var in ${vars}; do echo "${var}=${!var}"; done
	for var in ${vars}; do if [[ -z "${!var}" ]]; then echo "missing argument ${var}" ; return 1 ; fi ; done
}
function Init {
	mkdir -p ${v_project_dir}/${catalog_type}/{sample,mapping,profiles}
	mkdir -p ${v_workdir}
	mkdir -p ${v_refdir}
}
function Send {
	cp $v_fastqgz1 $v_workdir
	cp $v_fastqgz2 $v_workdir
	cp -r ${reference_dir}/* $v_refdir
	cp -r $trimFasta $v_project_dir
}
function Decompress {
	zcat ${v_workdir}/$(basename $v_fastqgz1) > $v_fastqgz1_unzip & pid1=$!
	zcat ${v_workdir}/$(basename $v_fastqgz2) > $v_fastqgz2_unzip & pid2=$!
	trap "kill -2 $pid1 $pid2" SIGINT
	wait
}
function Trim {
	[[ -f $v_fastqgz1_unzip && -f $v_fastqgz2_unzip ]] \
	|| (echo "zip file not found" ; return 1 )
	java -jar ${ALIEN_TRIMMER}/AlienTrimmer.jar \
		-k 10 -l 45 -m 5 -p 40 -q 20 \
		-if ${v_fastqgz1_unzip} -ir ${v_fastqgz2_unzip} -c $TMPDIR/$(basename $trimFasta) \
		-of ${v_final1} -or ${v_final2} -os ${v_trimmedS} \
	|| return 1
}
function Import {
	[[ -f $v_final1 && -f $v_final2 ]] \
	|| (echo "trimmed files not found" ; return 1 )
	mv ${v_final1} ${v_final2} ${v_project_dir}/${catalog_type}/sample &&
	rm -r ${v_workdir}
	ruby ${meteorImportScript} \
		-i ${v_project_dir}/${catalog_type}/sample \
		-p ${catalog_type} \
		-t ${seq_platform} \
		-m "${sampleId}*" \
	|| return 1
}
function Map_reads {
	ruby ${meteor}/meteor.rb \
		-w ${ini_file} \
		-i ${v_sampledir} \
		-p ${v_project_dir}/${catalog_type} \
		-o mapping \
	|| return 1
}
function Quantify {
	${meteor}/meteor-profiler \
		-p ${v_project_dir}/${catalog_type} \
		-f ${v_project_dir}/${catalog_type}/profiles \
		-t smart_shared_reads \
		-w ${ini_file} \
		-o ${sampleId} ${v_project_dir}/${catalog_type}/mapping/${sampleId}/${sampleId}_${v_prefix}_gene_profile/census.dat \
	&& rm -r ${v_project_dir}/${catalog_type}/mapping/${sampleId} \
	|| return 1
}
function Recover {
	rsync -aurvP --remove-source-files $v_project_dir/ $project_dir_rel
}

Main() {
	sampleId=$(basename $1 .fastq.gz)
	fastqgzs+=("$2")
	fastqgzs+=("$3")

	Run Parse_variables &&
	Run Init &&
	Run Send &&
	Run Decompress &&
	Run Trim &&
	Run Import &&
	Run Map_reads &&
	Run Quantify &&
	Run Recover
}

echo "...$(date): - begin running script"
cat $0
echo ""

# Load modules
echo "...$(date): - load modules"
module load bioinfo-tools
module load ruby/2.6.2
module load AlienTrimmer/0.4.0
module load bowtie2/2.3.4.1
echo "...$(date): - done"; echo "" 

# Load ini file
echo "...$(date): - load ini file"
sed -i "s|meteor.reference.dir=.*|meteor.reference.dir=$TMPDIR/reference|g" $1
ini_file=$1
source $ini_file > /dev/null 2>&1
v_prefix=$( grep "meteor.counting.prefix.name" $ini_file | sed "s/^.*=//g" )
cat $ini_file
echo "...$(date): - done"; echo "" 

# Run meteor
Main $sample $seq_data_dir/${sample}${forward_identifier} $seq_data_dir/${sample}${reverse_identifier}

...Thu Jun 10 13:41:57 CEST 2021: - load modules
Bowtie2 looks for the specified index first in the current directory, then in the directory specified in the BOWTIE2_INDEXES environment variable.
The pregenerated indexes for the reference genonomes are placed under /sw/data/reference/*/*/program_files/bowtie2 for each reference genome
...Thu Jun 10 13:42:08 CEST 2021: - done

...Thu Jun 10 13:42:08 CEST 2021: - load ini file
[Pipeline]
sample=P18161_208/02-FASTQ/201104_A00187_0373_BHGM2CDSXY/P18161_208_S82_L004
forward_identifier="_R1_001.fastq.gz"
reverse_identifier="_R2_001.fastq.gz"
seq_data_dir="/proj/snic2020-6-153/delivery04021/P18161"
project_dir_rel="/proj/uppstore2019028/projects/metagenome/theo/newscripts/tmp"
catalog_type="oral_catalog"
seq_platform="illumina"
trimFasta="/proj/uppstore2019028/projects/metagenome/alienTrimmerPF8contaminants.fasta"
meteorImportScript="/proj/uppstore2019028/meteor.2019.11.04/MeteorImportFastq.rb"
meteor="/proj/uppstore2019028/projects/metagenome/software/meteor_linux_2019.11.04"
Rdir="/proj/uppstore2019028/projects/metagenome/meteor_downstream_rscripts"
reference_dir="/proj/uppstore2019028/projects/metagenome/meteor_ref"
[worksession]
meteor.reference.dir=/scratch/20410262/reference
meteor.db.type=binary
meteor.nb.attempts=3
meteor.read.cleaning.program=none
meteor.read.cleaning.cmd=
meteor.mapping.program=bowtie2
meteor.mapping.file.format=sam
meteor.is.cpu.percentage=0
meteor.cpu.count=10
meteor.checksum=md5
meteor.excluded.reference.count=3
[main_reference]
meteor.reference.name=oral_catalog
meteor.matches=10000
meteor.mismatches=5
meteor.is.perc.mismatches=1
meteor.bestalignment=1
meteor.mapper.cmd=
meteor.mapping.prefix.name=mapping_vs_oral_catalog
meteor.counting.prefix.name=vs_hs_10_4_oral_catalog
[excluded_reference_1]
meteor.reference.name=Homo_sapiens_GRCh38
meteor.matches=1
meteor.mismatches=5
meteor.is.perc.mismatches=1
meteor.bestalignment=1
meteor.mapping.prefix.name=mapping_vs_Homo_sapiens_GRCh38
[excluded_reference_2]
meteor.reference.name=A_thaliana_TAIR10
meteor.matches=1
meteor.mismatches=5
meteor.is.perc.mismatches=1
meteor.bestalignment=1
meteor.mapping.prefix.name=mapping_vs_A_thaliana_TAIR10
[excluded_reference_3]
meteor.reference.name=Bos_taurus_UMD3
meteor.matches=1
meteor.mismatches=5
meteor.is.perc.mismatches=1
meteor.bestalignment=1
meteor.mapping.prefix.name=mapping_vs_Bos_taurus_UMD3
...Thu Jun 10 13:42:08 CEST 2021: - done

...Thu Jun 10 13:42:08 CEST 2021: Parse_variables - begin

v_downstream_dir=/scratch/20410262/Downstream
v_fastqgz1=/crex/proj/snic2020-6-153/nobackup/delivery04021/P18161/P18161_208/02-FASTQ/201104_A00187_0373_BHGM2CDSXY/P18161_208_S82_L004_R1_001.fastq.gz
v_fastqgz1_unzip=/scratch/20410262/working/P18161_208_S82_L004_R1_001.fastq.unzipped
v_fastqgz2=/crex/proj/snic2020-6-153/nobackup/delivery04021/P18161/P18161_208/02-FASTQ/201104_A00187_0373_BHGM2CDSXY/P18161_208_S82_L004_R2_001.fastq.gz
v_fastqgz2_unzip=/scratch/20410262/working/P18161_208_S82_L004_R2_001.fastq.unzipped
v_final1=/scratch/20410262/working/P18161_208_S82_L004_1.fastq
v_final2=/scratch/20410262/working/P18161_208_S82_L004_2.fastq
v_prefix=vs_hs_10_4_oral_catalog
v_project_dir=/scratch/20410262
v_refdir=/scratch/20410262/reference
v_sampledir=/scratch/20410262/oral_catalog/sample/P18161_208_S82_L004
v_trimmedS=/scratch/20410262/working/P18161_208_S82_L004.trimmed.s.fastq
v_workdir=/scratch/20410262/working
...Thu Jun 10 13:42:08 CEST 2021: Parse_variables - done

...time taken: 1623325322

...Thu Jun 10 13:42:08 CEST 2021: Init - begin

...Thu Jun 10 13:42:08 CEST 2021: Init - done

...time taken: 1623325322

...Thu Jun 10 13:42:08 CEST 2021: Send - begin

...Thu Jun 10 13:54:47 CEST 2021: Send - done

...time taken: 1623326081

...Thu Jun 10 13:54:47 CEST 2021: Decompress - begin

...Thu Jun 10 14:11:47 CEST 2021: Decompress - done

...time taken: 1623327101

...Thu Jun 10 14:11:47 CEST 2021: Trim - begin

AlienTrimmer main options: -k 10 -l 45 -m 5 -q 20 -p 40 (Phred+33)  /  439 fwd alien sequence(s)  /  7856 fwd k-mers (k=10)  /  439 rev alien sequence(s)  /  7856 rev k-mers (k=10)
[02:04]   1,000,000 read pairs processed:     669,993 trimmed (fwd:     317,129  rev:     352,864)      14,107 removed (fwd:       5,351  rev:       8,756)
[04:07]   2,000,000 read pairs processed:   1,344,847 trimmed (fwd:     632,679  rev:     712,168)      27,966 removed (fwd:      10,442  rev:      17,524)
[06:09]   3,000,000 read pairs processed:   2,001,774 trimmed (fwd:     938,112  rev:   1,063,662)      41,650 removed (fwd:      15,336  rev:      26,314)
[08:10]   4,000,000 read pairs processed:   2,655,090 trimmed (fwd:   1,242,136  rev:   1,412,954)      55,386 removed (fwd:      20,332  rev:      35,054)
[10:13]   5,000,000 read pairs processed:   3,320,749 trimmed (fwd:   1,548,508  rev:   1,772,241)      68,896 removed (fwd:      25,195  rev:      43,701)
[12:15]   6,000,000 read pairs processed:   3,992,311 trimmed (fwd:   1,854,372  rev:   2,137,939)      82,235 removed (fwd:      29,841  rev:      52,394)
[14:18]   7,000,000 read pairs processed:   4,655,491 trimmed (fwd:   2,154,954  rev:   2,500,537)      95,802 removed (fwd:      34,318  rev:      61,484)
[16:23]   8,000,000 read pairs processed:   5,313,345 trimmed (fwd:   2,453,090  rev:   2,860,255)     109,380 removed (fwd:      38,721  rev:      70,659)
[18:27]   9,000,000 read pairs processed:   5,988,087 trimmed (fwd:   2,756,998  rev:   3,231,089)     123,621 removed (fwd:      42,944  rev:      80,677)
[20:30]  10,000,000 read pairs processed:   6,647,406 trimmed (fwd:   3,068,766  rev:   3,578,640)     137,053 removed (fwd:      47,964  rev:      89,089)
[22:30]  11,000,000 read pairs processed:   7,308,082 trimmed (fwd:   3,376,687  rev:   3,931,395)     150,380 removed (fwd:      52,800  rev:      97,580)
[24:32]  12,000,000 read pairs processed:   7,958,600 trimmed (fwd:   3,677,719  rev:   4,280,881)     163,253 removed (fwd:      57,358  rev:     105,895)
[26:33]  13,000,000 read pairs processed:   8,608,363 trimmed (fwd:   3,978,221  rev:   4,630,142)     176,345 removed (fwd:      62,033  rev:     114,312)
[28:34]  14,000,000 read pairs processed:   9,261,727 trimmed (fwd:   4,278,680  rev:   4,983,047)     189,502 removed (fwd:      66,677  rev:     122,825)
[30:37]  15,000,000 read pairs processed:   9,918,384 trimmed (fwd:   4,579,009  rev:   5,339,375)     202,653 removed (fwd:      71,220  rev:     131,433)
[32:39]  16,000,000 read pairs processed:  10,569,586 trimmed (fwd:   4,874,625  rev:   5,694,961)     215,931 removed (fwd:      75,677  rev:     140,254)
[34:42]  17,000,000 read pairs processed:  11,237,128 trimmed (fwd:   5,176,314  rev:   6,060,814)     229,506 removed (fwd:      79,992  rev:     149,514)
[36:47]  18,000,000 read pairs processed:  11,914,614 trimmed (fwd:   5,479,977  rev:   6,434,637)     243,611 removed (fwd:      84,338  rev:     159,273)
[38:48]  19,000,000 read pairs processed:  12,581,116 trimmed (fwd:   5,793,541  rev:   6,787,575)     256,888 removed (fwd:      89,331  rev:     167,557)
[40:50]  20,000,000 read pairs processed:  13,239,343 trimmed (fwd:   6,099,820  rev:   7,139,523)     269,837 removed (fwd:      93,959  rev:     175,878)
[42:52]  21,000,000 read pairs processed:  13,886,506 trimmed (fwd:   6,400,018  rev:   7,486,488)     282,540 removed (fwd:      98,422  rev:     184,118)
[44:55]  22,000,000 read pairs processed:  14,533,969 trimmed (fwd:   6,699,446  rev:   7,834,523)     295,378 removed (fwd:     102,950  rev:     192,428)
[46:57]  23,000,000 read pairs processed:  15,188,018 trimmed (fwd:   6,998,939  rev:   8,189,079)     308,506 removed (fwd:     107,521  rev:     200,985)
[48:59]  24,000,000 read pairs processed:  15,840,748 trimmed (fwd:   7,297,184  rev:   8,543,564)     321,445 removed (fwd:     111,947  rev:     209,498)
[51:27]  25,000,000 read pairs processed:  16,499,981 trimmed (fwd:   7,595,518  rev:   8,904,463)     334,491 removed (fwd:     116,282  rev:     218,209)
[56:06]  26,000,000 read pairs processed:  17,159,685 trimmed (fwd:   7,893,639  rev:   9,266,046)     347,714 removed (fwd:     120,560  rev:     227,154)
[61:42]  27,000,000 read pairs processed:  17,832,957 trimmed (fwd:   8,196,154  rev:   9,636,803)     360,926 removed (fwd:     124,699  rev:     236,227)
[67:11]  28,000,000 read pairs processed:  18,476,236 trimmed (fwd:   8,498,082  rev:   9,978,154)     373,881 removed (fwd:     129,394  rev:     244,487)
[72:50]  29,000,000 read pairs processed:  19,119,759 trimmed (fwd:   8,797,216  rev:  10,322,543)     386,217 removed (fwd:     133,803  rev:     252,414)
[78:17]  30,000,000 read pairs processed:  19,762,231 trimmed (fwd:   9,093,518  rev:  10,668,713)     398,704 removed (fwd:     138,258  rev:     260,446)
[83:51]  31,000,000 read pairs processed:  20,403,062 trimmed (fwd:   9,389,781  rev:  11,013,281)     411,259 removed (fwd:     142,712  rev:     268,547)
[88:51]  32,000,000 read pairs processed:  21,047,931 trimmed (fwd:   9,685,695  rev:  11,362,236)     424,032 removed (fwd:     147,194  rev:     276,838)
[93:30]  33,000,000 read pairs processed:  21,690,676 trimmed (fwd:   9,980,249  rev:  11,710,427)     436,728 removed (fwd:     151,578  rev:     285,150)
[97:49]  34,000,000 read pairs processed:  22,337,487 trimmed (fwd:  10,275,242  rev:  12,062,245)     449,521 removed (fwd:     155,975  rev:     293,546)
[102:00]  35,000,000 read pairs processed:  22,993,901 trimmed (fwd:  10,572,782  rev:  12,421,119)     462,123 removed (fwd:     160,255  rev:     301,868)
[106:10]  36,000,000 read pairs processed:  23,657,962 trimmed (fwd:  10,872,553  rev:  12,785,409)     475,172 removed (fwd:     164,568  rev:     310,604)
[109:59]  37,000,000 read pairs processed:  24,319,668 trimmed (fwd:  11,179,926  rev:  13,139,742)     488,231 removed (fwd:     169,329  rev:     318,902)
[113:33]  38,000,000 read pairs processed:  24,973,076 trimmed (fwd:  11,481,160  rev:  13,491,916)     500,513 removed (fwd:     173,701  rev:     326,812)
[117:06]  39,000,000 read pairs processed:  25,615,796 trimmed (fwd:  11,776,301  rev:  13,839,495)     513,218 removed (fwd:     178,206  rev:     335,012)
[120:30]  40,000,000 read pairs processed:  26,267,176 trimmed (fwd:  12,073,757  rev:  14,193,419)     525,797 removed (fwd:     182,701  rev:     343,096)
[123:49]  41,000,000 read pairs processed:  26,928,865 trimmed (fwd:  12,373,002  rev:  14,555,863)     538,388 removed (fwd:     187,092  rev:     351,296)
[127:04]  42,000,000 read pairs processed:  27,571,743 trimmed (fwd:  12,666,663  rev:  14,905,080)     550,709 removed (fwd:     191,414  rev:     359,295)
[130:19]  43,000,000 read pairs processed:  28,226,730 trimmed (fwd:  12,964,377  rev:  15,262,353)     563,271 removed (fwd:     195,872  rev:     367,399)
[133:29]  44,000,000 read pairs processed:  28,880,815 trimmed (fwd:  13,260,707  rev:  15,620,108)     575,643 removed (fwd:     200,001  rev:     375,642)
[136:35]  45,000,000 read pairs processed:  29,537,814 trimmed (fwd:  13,559,642  rev:  15,978,172)     588,234 removed (fwd:     204,182  rev:     384,052)
[139:35]  46,000,000 read pairs processed:  30,197,646 trimmed (fwd:  13,871,152  rev:  16,326,494)     601,464 removed (fwd:     209,150  rev:     392,314)
[142:21]  47,000,000 read pairs processed:  30,843,518 trimmed (fwd:  14,175,447  rev:  16,668,071)     614,441 removed (fwd:     213,984  rev:     400,457)
[145:05]  48,000,000 read pairs processed:  31,486,398 trimmed (fwd:  14,476,419  rev:  17,009,979)     627,420 removed (fwd:     218,738  rev:     408,682)
[147:44]  49,000,000 read pairs processed:  32,131,422 trimmed (fwd:  14,778,130  rev:  17,353,292)     640,596 removed (fwd:     223,585  rev:     417,011)
[150:20]  50,000,000 read pairs processed:  32,769,067 trimmed (fwd:  15,075,382  rev:  17,693,685)     653,569 removed (fwd:     228,371  rev:     425,198)
[152:54]  51,000,000 read pairs processed:  33,402,157 trimmed (fwd:  15,369,854  rev:  18,032,303)     666,126 removed (fwd:     232,976  rev:     433,150)
[155:25]  52,000,000 read pairs processed:  34,037,561 trimmed (fwd:  15,664,041  rev:  18,373,520)     678,644 removed (fwd:     237,405  rev:     441,239)
[157:58]  53,000,000 read pairs processed:  34,682,369 trimmed (fwd:  15,960,428  rev:  18,721,941)     691,168 removed (fwd:     241,785  rev:     449,383)
[160:31]  54,000,000 read pairs processed:  35,334,161 trimmed (fwd:  16,259,337  rev:  19,074,824)     703,621 removed (fwd:     245,965  rev:     457,656)
[163:00]  55,000,000 read pairs processed:  36,161,937 trimmed (fwd:  16,638,699  rev:  19,523,238)     719,844 removed (fwd:     250,836  rev:     469,008)
[165:26]  56,000,000 read pairs processed:  36,986,532 trimmed (fwd:  17,018,457  rev:  19,968,075)     736,465 removed (fwd:     255,849  rev:     480,616)
[167:51]  57,000,000 read pairs processed:  37,793,032 trimmed (fwd:  17,388,084  rev:  20,404,948)     754,601 removed (fwd:     260,868  rev:     493,733)
[170:14]  58,000,000 read pairs processed:  38,595,238 trimmed (fwd:  17,754,185  rev:  20,841,053)     773,340 removed (fwd:     265,927  rev:     507,413)
[172:38]  59,000,000 read pairs processed:  39,321,463 trimmed (fwd:  18,091,277  rev:  21,230,186)     787,691 removed (fwd:     271,230  rev:     516,461)
[175:02]  60,000,000 read pairs processed:  40,036,929 trimmed (fwd:  18,421,159  rev:  21,615,770)     801,595 removed (fwd:     276,393  rev:     525,202)
[177:29]  61,000,000 read pairs processed:  40,742,896 trimmed (fwd:  18,744,629  rev:  21,998,267)     815,484 removed (fwd:     281,397  rev:     534,087)
[179:54]  62,000,000 read pairs processed:  41,446,023 trimmed (fwd:  19,065,631  rev:  22,380,392)     829,456 removed (fwd:     286,308  rev:     543,148)
[182:19]  63,000,000 read pairs processed:  42,196,656 trimmed (fwd:  19,408,872  rev:  22,787,784)     843,708 removed (fwd:     291,218  rev:     552,490)
[184:42]  64,000,000 read pairs processed:  42,984,552 trimmed (fwd:  19,768,813  rev:  23,215,739)     858,269 removed (fwd:     296,298  rev:     561,971)
[187:06]  65,000,000 read pairs processed:  43,751,310 trimmed (fwd:  20,116,927  rev:  23,634,383)     872,594 removed (fwd:     301,043  rev:     571,551)
[189:31]  66,000,000 read pairs processed:  44,520,651 trimmed (fwd:  20,463,125  rev:  24,057,526)     887,286 removed (fwd:     305,983  rev:     581,303)
[191:54]  67,000,000 read pairs processed:  45,246,939 trimmed (fwd:  20,792,697  rev:  24,454,242)     901,252 removed (fwd:     311,086  rev:     590,166)
[194:18]  68,000,000 read pairs processed:  45,964,342 trimmed (fwd:  21,117,633  rev:  24,846,709)     915,332 removed (fwd:     316,167  rev:     599,165)
[196:40]  69,000,000 read pairs processed:  46,675,187 trimmed (fwd:  21,437,263  rev:  25,237,924)     929,184 removed (fwd:     321,025  rev:     608,159)
[199:03]  70,000,000 read pairs processed:  47,380,204 trimmed (fwd:  21,755,169  rev:  25,625,035)     943,023 removed (fwd:     325,912  rev:     617,111)
[201:27]  71,000,000 read pairs processed:  48,083,693 trimmed (fwd:  22,072,444  rev:  26,011,249)     956,990 removed (fwd:     330,761  rev:     626,229)
[203:49]  72,000,000 read pairs processed:  48,817,928 trimmed (fwd:  22,414,198  rev:  26,403,730)     970,715 removed (fwd:     335,776  rev:     634,939)
[206:13]  73,000,000 read pairs processed:  49,549,199 trimmed (fwd:  22,751,919  rev:  26,797,280)     984,611 removed (fwd:     340,878  rev:     643,733)
[208:36]  74,000,000 read pairs processed:  50,275,608 trimmed (fwd:  23,085,651  rev:  27,189,957)     998,707 removed (fwd:     345,940  rev:     652,767)
[210:56]  75,000,000 read pairs processed:  50,988,665 trimmed (fwd:  23,412,396  rev:  27,576,269)   1,012,803 removed (fwd:     351,129  rev:     661,674)
[213:19]  76,000,000 read pairs processed:  51,701,460 trimmed (fwd:  23,739,673  rev:  27,961,787)   1,026,540 removed (fwd:     356,256  rev:     670,284)
[215:41]  77,000,000 read pairs processed:  52,402,809 trimmed (fwd:  24,060,268  rev:  28,342,541)   1,040,253 removed (fwd:     361,266  rev:     678,987)
[218:02]  78,000,000 read pairs processed:  53,098,778 trimmed (fwd:  24,376,511  rev:  28,722,267)   1,053,783 removed (fwd:     366,108  rev:     687,675)
[220:27]  79,000,000 read pairs processed:  53,795,755 trimmed (fwd:  24,691,457  rev:  29,104,298)   1,067,490 removed (fwd:     370,918  rev:     696,572)
[222:51]  80,000,000 read pairs processed:  54,500,746 trimmed (fwd:  25,010,839  rev:  29,489,907)   1,080,987 removed (fwd:     375,708  rev:     705,279)
[225:15]  81,000,000 read pairs processed:  55,213,433 trimmed (fwd:  25,338,495  rev:  29,874,938)   1,094,304 removed (fwd:     380,621  rev:     713,683)
[227:38]  82,000,000 read pairs processed:  55,911,457 trimmed (fwd:  25,658,968  rev:  30,252,489)   1,107,811 removed (fwd:     385,523  rev:     722,288)
[229:59]  83,000,000 read pairs processed:  56,608,504 trimmed (fwd:  25,977,780  rev:  30,630,724)   1,120,991 removed (fwd:     390,384  rev:     730,607)
[232:22]  84,000,000 read pairs processed:  57,309,680 trimmed (fwd:  26,296,274  rev:  31,013,406)   1,134,093 removed (fwd:     395,264  rev:     738,829)
[234:44]  85,000,000 read pairs processed:  58,006,841 trimmed (fwd:  26,613,668  rev:  31,393,173)   1,147,395 removed (fwd:     400,153  rev:     747,242)
[237:08]  86,000,000 read pairs processed:  58,704,831 trimmed (fwd:  26,928,790  rev:  31,776,041)   1,160,663 removed (fwd:     404,886  rev:     755,777)
[239:31]  87,000,000 read pairs processed:  59,398,428 trimmed (fwd:  27,242,041  rev:  32,156,387)   1,173,538 removed (fwd:     409,502  rev:     764,036)
[241:53]  88,000,000 read pairs processed:  60,087,136 trimmed (fwd:  27,552,842  rev:  32,534,294)   1,186,500 removed (fwd:     413,999  rev:     772,501)
[244:17]  89,000,000 read pairs processed:  60,798,376 trimmed (fwd:  27,880,935  rev:  32,917,441)   1,199,875 removed (fwd:     418,800  rev:     781,075)
[246:41]  90,000,000 read pairs processed:  61,506,241 trimmed (fwd:  28,210,331  rev:  33,295,910)   1,213,369 removed (fwd:     423,687  rev:     789,682)
[249:04]  91,000,000 read pairs processed:  62,210,284 trimmed (fwd:  28,535,878  rev:  33,674,406)   1,226,687 removed (fwd:     428,464  rev:     798,223)
[251:28]  92,000,000 read pairs processed:  62,911,377 trimmed (fwd:  28,857,421  rev:  34,053,956)   1,240,063 removed (fwd:     433,296  rev:     806,767)
[253:51]  93,000,000 read pairs processed:  63,614,877 trimmed (fwd:  29,180,547  rev:  34,434,330)   1,253,571 removed (fwd:     438,264  rev:     815,307)
[256:13]  94,000,000 read pairs processed:  64,313,885 trimmed (fwd:  29,501,834  rev:  34,812,051)   1,266,772 removed (fwd:     443,050  rev:     823,722)
[258:37]  95,000,000 read pairs processed:  65,006,053 trimmed (fwd:  29,818,299  rev:  35,187,754)   1,280,126 removed (fwd:     447,779  rev:     832,347)
[261:02]  96,000,000 read pairs processed:  65,700,268 trimmed (fwd:  30,135,069  rev:  35,565,199)   1,293,328 removed (fwd:     452,328  rev:     841,000)
[263:28]  97,000,000 read pairs processed:  66,401,226 trimmed (fwd:  30,453,268  rev:  35,947,958)   1,306,635 removed (fwd:     456,947  rev:     849,688)
[267:46]  98,000,000 read pairs processed:  67,180,253 trimmed (fwd:  30,812,952  rev:  36,367,301)   1,321,734 removed (fwd:     462,467  rev:     859,267)
[271:24]  99,000,000 read pairs processed:  67,925,180 trimmed (fwd:  31,157,318  rev:  36,767,862)   1,336,170 removed (fwd:     467,831  rev:     868,339)
[273:49] 100,000,000 read pairs processed:  68,643,837 trimmed (fwd:  31,489,316  rev:  37,154,521)   1,350,158 removed (fwd:     473,011  rev:     877,147)
[276:11] 101,000,000 read pairs processed:  69,382,293 trimmed (fwd:  31,825,900  rev:  37,556,393)   1,364,527 removed (fwd:     478,277  rev:     886,250)
[278:34] 102,000,000 read pairs processed:  70,090,311 trimmed (fwd:  32,151,518  rev:  37,938,793)   1,378,231 removed (fwd:     483,304  rev:     894,927)
[280:58] 103,000,000 read pairs processed:  70,791,237 trimmed (fwd:  32,472,650  rev:  38,318,587)   1,391,747 removed (fwd:     488,355  rev:     903,392)
[283:23] 104,000,000 read pairs processed:  71,491,126 trimmed (fwd:  32,790,048  rev:  38,701,078)   1,405,216 removed (fwd:     493,285  rev:     911,931)
[285:48] 105,000,000 read pairs processed:  72,183,368 trimmed (fwd:  33,103,901  rev:  39,079,467)   1,418,452 removed (fwd:     497,884  rev:     920,568)
[286:49] 105,425,593 read pairs processed:  72,476,129 trimmed (fwd:  33,236,906  rev:  39,239,223)   1,424,027 removed (fwd:     499,873  rev:     924,154)
...Thu Jun 10 18:58:37 CEST 2021: Trim - done

...time taken: 1623344311

...Thu Jun 10 18:58:37 CEST 2021: Import - begin

ruby: warning: shebang line ending with \r may cause problems
Import /scratch/20410262/oral_catalog/sample/P18161_208_S82_L004_1.fastq
Import /scratch/20410262/oral_catalog/sample/P18161_208_S82_L004_2.fastq
Importation done!
...Thu Jun 10 18:58:46 CEST 2021: Import - done

...time taken: 1623344320

...Thu Jun 10 18:58:46 CEST 2021: Map_reads - begin

/proj/uppstore2019028/projects/metagenome/software/meteor_linux_2019.11.04/meteor.rb:146: warning: constant ::Fixnum is deprecated
/proj/uppstore2019028/projects/metagenome/software/meteor_linux_2019.11.04/meteor.rb:161: warning: Insecure world writable dir /proj/uppstore2019028/Helen/meteor-linux.2019-11-04 in PATH, mode 042777

Launch mapping


######### Meteor Mapping task description
Sample name = P18161_208_S82_L004
Library name = P18161_208_S82_L004_1
Project name = oral_catalog
Sequencing device = illumina
Workflow = P18161_208_S82_L004.ini

######### Task main mapping 0
Executing mapping command:
bowtie2-align-l --mm -p 10 --end-to-end --sensitive -k 10000 --no-head --no-sq --no-unal --omit-sec-seq -x /scratch/20410262/reference/oral_catalog/fasta/oral_catalog_dnaspace_index -U /scratch/20410262/oral_catalog/sample/P18161_208_S82_L004/e817854e3a2817b73db5079aa2f74db2/P18161_208_S82_L004_1.fastq.idx -S /scratch/20410262/oral_catalog/mapping/P18161_208_S82_L004/mapping_vs_oral_catalog_P18161_208_S82_L004_1/P18161_208_S82_L004_1_1.sam
